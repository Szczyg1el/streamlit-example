[
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28041",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28041/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28041/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28041/events",
      "html_url": "https://github.com/apache/airflow/pull/28041",
      "id": 1471812843,
      "node_id": "PR_kwDOAgUK285EFhwb",
      "number": 28041,
      "title": "Enhance chart to allow over-riding command-line args to statsd exporter",
      "user": {
        "login": "rob-1126",
        "id": 89029510,
        "node_id": "MDQ6VXNlcjg5MDI5NTEw",
        "avatar_url": "https://avatars.githubusercontent.com/u/89029510?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rob-1126",
        "html_url": "https://github.com/rob-1126",
        "followers_url": "https://api.github.com/users/rob-1126/followers",
        "following_url": "https://api.github.com/users/rob-1126/following{/other_user}",
        "gists_url": "https://api.github.com/users/rob-1126/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/rob-1126/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rob-1126/subscriptions",
        "organizations_url": "https://api.github.com/users/rob-1126/orgs",
        "repos_url": "https://api.github.com/users/rob-1126/repos",
        "events_url": "https://api.github.com/users/rob-1126/events{/privacy}",
        "received_events_url": "https://api.github.com/users/rob-1126/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1971984525,
          "node_id": "MDU6TGFiZWwxOTcxOTg0NTI1",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:helm-chart",
          "name": "area:helm-chart",
          "color": "024e91",
          "default": false,
          "description": "Airflow Helm Chart"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-12-01T19:14:49Z",
      "updated_at": "2022-12-01T19:16:55Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28041",
        "html_url": "https://github.com/apache/airflow/pull/28041",
        "diff_url": "https://github.com/apache/airflow/pull/28041.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28041.patch",
        "merged_at": null
      },
      "body": "Add a new configurable option (statsd.args) to the helm chart to allow args on the statsd-exporter container to be over-ridden in the same manner as the args on other containers.\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28041/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28041/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28040",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28040/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28040/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28040/events",
      "html_url": "https://github.com/apache/airflow/pull/28040",
      "id": 1471770706,
      "node_id": "PR_kwDOAgUK285EFYhP",
      "number": 28040,
      "title": "Migrate google provider cloud utils tests from `unittests` to `pytest`",
      "user": {
        "login": "Taragolis",
        "id": 3998685,
        "node_id": "MDQ6VXNlcjM5OTg2ODU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3998685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Taragolis",
        "html_url": "https://github.com/Taragolis",
        "followers_url": "https://api.github.com/users/Taragolis/followers",
        "following_url": "https://api.github.com/users/Taragolis/following{/other_user}",
        "gists_url": "https://api.github.com/users/Taragolis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Taragolis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Taragolis/subscriptions",
        "organizations_url": "https://api.github.com/users/Taragolis/orgs",
        "repos_url": "https://api.github.com/users/Taragolis/repos",
        "events_url": "https://api.github.com/users/Taragolis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Taragolis/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1463392518,
          "node_id": "MDU6TGFiZWwxNDYzMzkyNTE4",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:Google",
          "name": "provider:Google",
          "color": "34a350",
          "default": false,
          "description": "Google (including GCP) related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 1915320862,
          "node_id": "MDU6TGFiZWwxOTE1MzIwODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:secrets",
          "name": "area:secrets",
          "color": "d31d93",
          "default": false,
          "description": ""
        },
        {
          "id": 2057471696,
          "node_id": "MDU6TGFiZWwyMDU3NDcxNjk2",
          "url": "https://api.github.com/repos/apache/airflow/labels/changelog:skip",
          "name": "changelog:skip",
          "color": "a8f731",
          "default": false,
          "description": "Changes that should be skipped from the changelog"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-12-01T18:40:14Z",
      "updated_at": "2022-12-01T18:42:29Z",
      "closed_at": null,
      "author_association": "COLLABORATOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28040",
        "html_url": "https://github.com/apache/airflow/pull/28040",
        "diff_url": "https://github.com/apache/airflow/pull/28040.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28040.patch",
        "merged_at": null
      },
      "body": "Migrate google cloud provider's utils and secret backend tests to `pytest`.\r\n\r\nAll changes are more or less straightforward:\r\n- Get rid of `unittests.TestCase` class and **TestCase.assert*** methods\r\n- Replace decorator `parameterized.expand` by `pytest.mark.parametrize`.\r\n- Convert **setUp*** and **tearDown*** methods to [appropriate pytest alternative](https://docs.pytest.org/en/6.2.x/xunit_setup.html#classic-xunit-style-setup)\r\n\r\n_See additional findings, info about significant changes and potential follow up in comments_\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28040/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28040/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28039",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28039/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28039/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28039/events",
      "html_url": "https://github.com/apache/airflow/pull/28039",
      "id": 1471755696,
      "node_id": "PR_kwDOAgUK285EFVTs",
      "number": 28039,
      "title": "Migrate amazon provider hooks tests from `unittests` to `pytest`",
      "user": {
        "login": "Taragolis",
        "id": 3998685,
        "node_id": "MDQ6VXNlcjM5OTg2ODU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3998685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Taragolis",
        "html_url": "https://github.com/Taragolis",
        "followers_url": "https://api.github.com/users/Taragolis/followers",
        "following_url": "https://api.github.com/users/Taragolis/following{/other_user}",
        "gists_url": "https://api.github.com/users/Taragolis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Taragolis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Taragolis/subscriptions",
        "organizations_url": "https://api.github.com/users/Taragolis/orgs",
        "repos_url": "https://api.github.com/users/Taragolis/repos",
        "events_url": "https://api.github.com/users/Taragolis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Taragolis/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1471852032,
          "node_id": "MDU6TGFiZWwxNDcxODUyMDMy",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:AWS",
          "name": "provider:AWS",
          "color": "f89500",
          "default": false,
          "description": "AWS/Amazon - related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 2057471696,
          "node_id": "MDU6TGFiZWwyMDU3NDcxNjk2",
          "url": "https://api.github.com/repos/apache/airflow/labels/changelog:skip",
          "name": "changelog:skip",
          "color": "a8f731",
          "default": false,
          "description": "Changes that should be skipped from the changelog"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-12-01T18:25:31Z",
      "updated_at": "2022-12-01T18:31:11Z",
      "closed_at": null,
      "author_association": "COLLABORATOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28039",
        "html_url": "https://github.com/apache/airflow/pull/28039",
        "diff_url": "https://github.com/apache/airflow/pull/28039.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28039.patch",
        "merged_at": null
      },
      "body": "related: #27970\r\n\r\nMigrate Amazon provider's hooks and utils tests to `pytest`.\r\n\r\nAll changes are more or less straightforward:\r\n- Get rid of `unittests.TestCase` class and **TestCase.assert*** methods\r\n- Replace decorator `parameterized.expand` by `pytest.mark.parametrize`.\r\n- Convert **setUp*** and **tearDown*** methods to [appropriate pytest alternative](https://docs.pytest.org/en/6.2.x/xunit_setup.html#classic-xunit-style-setup)\r\n\r\n_See additional findings, info about significant changes and potential follow up in comments_",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28039/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28039/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28036",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28036/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28036/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28036/events",
      "html_url": "https://github.com/apache/airflow/issues/28036",
      "id": 1471455489,
      "node_id": "I_kwDOAgUK285XtKEB",
      "number": 28036,
      "title": "Status of testing Providers that were prepared on December 01, 2022",
      "user": {
        "login": "potiuk",
        "id": 595491,
        "node_id": "MDQ6VXNlcjU5NTQ5MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/595491?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/potiuk",
        "html_url": "https://github.com/potiuk",
        "followers_url": "https://api.github.com/users/potiuk/followers",
        "following_url": "https://api.github.com/users/potiuk/following{/other_user}",
        "gists_url": "https://api.github.com/users/potiuk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/potiuk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/potiuk/subscriptions",
        "organizations_url": "https://api.github.com/users/potiuk/orgs",
        "repos_url": "https://api.github.com/users/potiuk/repos",
        "events_url": "https://api.github.com/users/potiuk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/potiuk/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2245754668,
          "node_id": "MDU6TGFiZWwyMjQ1NzU0NjY4",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:meta",
          "name": "kind:meta",
          "color": "5319e7",
          "default": false,
          "description": "High-level information important to the community"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-12-01T14:53:57Z",
      "updated_at": "2022-12-01T14:53:57Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "body": "### Body\n\nI have a kind request for all the contributors to the latest provider packages release.\r\nCould you please help us to test the RC versions of the providers?\r\n\r\nLet us know in the comment, whether the issue is addressed.\r\n\r\nThose are providers that require testing as there were some substantial changes introduced:\r\n\r\n\r\n## Provider [exasol: 4.1.2rc1](https://pypi.org/project/apache-airflow-providers-exasol/4.1.2rc1)\r\n   - [ ] [Update Exasol to common DBApiHook semantics and add tests (#28009)](https://github.com/apache/airflow/pull/28009): @potiuk\r\n   - [ ] [Fix wrapping of run() method result of exasol and snoflake DB hooks (#27997)](https://github.com/apache/airflow/pull/27997): @potiuk\r\n## Provider [snowflake: 4.0.2rc1](https://pypi.org/project/apache-airflow-providers-snowflake/4.0.2rc1)\r\n   - [ ] [Fix wrapping of run() method result of exasol and snoflake DB hooks (#27997)](https://github.com/apache/airflow/pull/27997): @potiuk\r\n   - [ ] [Make Snowflake Hook conform to semantics of DBApi (#28006)](https://github.com/apache/airflow/pull/28006): @potiuk\r\n## Provider [zendesk: 4.2.0rc1](https://pypi.org/project/apache-airflow-providers-zendesk/4.2.0rc1)\r\n   - [ ] [Add Zendesk connection type (#27984)](https://github.com/apache/airflow/pull/27984): @magdagultekin\r\n\r\nThe guidelines on how to test providers can be found in\r\n\r\n[Verify providers by contributors](https://github.com/apache/airflow/blob/main/dev/README_RELEASE_PROVIDER_PACKAGES.md#verify-by-contributors)\n\n### Committer\n\n- [X] I acknowledge that I am a maintainer/committer of the Apache Airflow project.",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28036/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28036/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28034",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28034/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28034/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28034/events",
      "html_url": "https://github.com/apache/airflow/pull/28034",
      "id": 1471417332,
      "node_id": "PR_kwDOAgUK285EELpU",
      "number": 28034,
      "title": "Added custom environment variables to statsd",
      "user": {
        "login": "RagingPuppies",
        "id": 20751576,
        "node_id": "MDQ6VXNlcjIwNzUxNTc2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20751576?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RagingPuppies",
        "html_url": "https://github.com/RagingPuppies",
        "followers_url": "https://api.github.com/users/RagingPuppies/followers",
        "following_url": "https://api.github.com/users/RagingPuppies/following{/other_user}",
        "gists_url": "https://api.github.com/users/RagingPuppies/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/RagingPuppies/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RagingPuppies/subscriptions",
        "organizations_url": "https://api.github.com/users/RagingPuppies/orgs",
        "repos_url": "https://api.github.com/users/RagingPuppies/repos",
        "events_url": "https://api.github.com/users/RagingPuppies/events{/privacy}",
        "received_events_url": "https://api.github.com/users/RagingPuppies/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1971984525,
          "node_id": "MDU6TGFiZWwxOTcxOTg0NTI1",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:helm-chart",
          "name": "area:helm-chart",
          "color": "024e91",
          "default": false,
          "description": "Airflow Helm Chart"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-12-01T14:29:58Z",
      "updated_at": "2022-12-01T16:04:07Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28034",
        "html_url": "https://github.com/apache/airflow/pull/28034",
        "diff_url": "https://github.com/apache/airflow/pull/28034.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28034.patch",
        "merged_at": null
      },
      "body": "Hi,\r\nThis is not related to any issue, all airflow components have the option to add custom env to their docker container except statsd, I've just added the same functionality and tested the chart in debug mode. (as I don't think the unit tests have any relation to the helm charts.)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28034/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28034/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28026",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28026/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28026/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28026/events",
      "html_url": "https://github.com/apache/airflow/issues/28026",
      "id": 1470756751,
      "node_id": "I_kwDOAgUK285XqfeP",
      "number": 28026,
      "title": "webserver login does not work by AD with config `AUTH_LDAP_BIND_USER` but with `auth_ldap_bind_user`",
      "user": {
        "login": "HwiLu",
        "id": 25824870,
        "node_id": "MDQ6VXNlcjI1ODI0ODcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/25824870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HwiLu",
        "html_url": "https://github.com/HwiLu",
        "followers_url": "https://api.github.com/users/HwiLu/followers",
        "following_url": "https://api.github.com/users/HwiLu/following{/other_user}",
        "gists_url": "https://api.github.com/users/HwiLu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/HwiLu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/HwiLu/subscriptions",
        "organizations_url": "https://api.github.com/users/HwiLu/orgs",
        "repos_url": "https://api.github.com/users/HwiLu/repos",
        "events_url": "https://api.github.com/users/HwiLu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/HwiLu/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 2,
      "created_at": "2022-12-01T06:27:32Z",
      "updated_at": "2022-12-01T10:45:23Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\r\n\r\nOther Airflow 2 version (please specify below)\r\n\r\n### What happened\r\n\r\nWhen I config `webserver_config.py`  with `AUTH_LDAP_BIND_USER` and `AUTH_LDAP_BIND_PASSWORD` like offical documents shows, to login webserver will throw errors like below, but if I config `auth_ldap_bind_user` which is lowercase, I can login webserver without error.\r\n\r\nThe final configuration is below and it  works. I have tested this strange phenomenon many times, and it shows that is true.\r\n\r\n```\r\n[2022-11-30 17:51:51,022] {manager.py:994} ERROR - AUTH_LDAP_BIND_USER and AUTH_LDAP_BIND_PASSWORD are not valid LDAP bind credentials\r\n[2022-11-30 17:51:51,023] {manager.py:1201} ERROR - {'msgtype': 97, 'msgid': 1, 'result': 49, 'desc': 'Invalid credentials', 'ctrls': [], 'info': '80090308: LdapErr: DSID-0C09041C, comment: AcceptSecurityContext error, data 52e, v4563'}\r\n```\r\n\r\n```py\r\n# AUTH_OAUTH : Is for OAuth\r\nAUTH_TYPE = AUTH_LDAP\r\n\r\n\r\nAUTH_ROLE_ADMIN = 'Admin'\r\nAUTH_ROLE_PUBLIC = 'Public'\r\nAUTH_LDAP_SERVER = \"ldap://192.168.11.211:389\"\r\nAUTH_LDAP_USE_TLS = False\r\n\r\n# registration configs\r\nAUTH_USER_REGISTRATION = True\r\nAUTH_USER_REGISTRATION_ROLE = \"Public\"\r\nAUTH_LDAP_FIRSTNAME_FIELD = \"givenName\"\r\nAUTH_LDAP_LASTNAME_FIELD = \"sn\"\r\nAUTH_LDAP_EMAIL_FIELD = \"mail\"\r\n\r\n#AUTH_LDAP_USERNAME_FORMAT = \"uid=%s,ou=AI-FPT,ou=iea,dc=iea,dc=com\" \r\nAUTH_LDAP_APPEND_DOMAIN = \"iea.com\"\r\n\r\n# search configs\r\nAUTH_LDAP_SEARCH = \"OU=AI-FPT,OU=iea,DC=iea,DC=com\"\r\n#AUTH_LDAP_SEARCH_FILTER = \"(memberOf=cn=gitlab-users,ou=AI-FPT,ou=iea,dc=iea,dc=com)\"\r\nAUTH_LDAP_UID_FIELD = \"sAMAccountName\"\r\nauth_ldap_bind_user = \"CN=zeppelinadmin,OU=AI-FPT,OU=idea,DC=iea,DC=com\"\r\nauth_ldap_bind_password = ''\r\n#AUTH_LDAP_BIND_USER = \"CN=zeppelinadmin,OU=AI-FPT,OU=iea,DC=iea,DC=com\"\r\n#AUTH_LDAP_BIND_PASSWORD = \"\"\r\nAUTH_ROLES_MAPPING = {\r\n    \"CN=gitlab-users,OU=AI-FPT,OU=iea,DC=iea,DC=com\": [\"User\"],\r\n    \"CN=zeppelinadmins,OU=AI-FPT,OU=iea,DC=iea,DC=com\": [\"Admin\"],\r\n}\r\n\r\nAUTH_LDAP_GROUP_FIELD = \"memberOf\"\r\nAUTH_ROLES_SYNC_AT_LOGIN = True\r\nPERMANENT_SESSION_LIFETIME = 1800\r\n\r\n```\r\n\r\n### What you think should happen instead\r\n\r\n `AUTH_LDAP_BIND_USER` which is upper case should work.\r\n\r\n### How to reproduce\r\n\r\nconfig `webserver_config.py` with `auth_ldap_bind_user` instead of `AUTH_LDAP_BIND_USER`, restart webserver and try to login\r\n\r\n### Operating System\r\n\r\n```\r\n[root@hadoop-180-91 airflow]# cat /etc/os-release\r\nNAME=\"CentOS Linux\" VERSION=\"7 (Core)\" ID=\"centos\" ID_LIKE=\"rhel fedora\" VERSION_ID=\"7\" PRETTY_NAME=\"CentOS Linux 7 (Core)\" ANSI_COLOR=\"0;31\" CPE_NAME=\"cpe:/o:centos:centos:7\" HOME_URL=\"https://www.centos.org/\" BUG_REPORT_URL=\"https://bugs.centos.org/\"  CENTOS_MANTISBT_PROJECT=\"CentOS-7\" CENTOS_MANTISBT_PROJECT_VERSION=\"7\" REDHAT_SUPPORT_PRODUCT=\"centos\" REDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n```\r\n\r\n### Versions of Apache Airflow Providers\r\n\r\n[root@hadoop-180-91 airflow]# pip freeze | grep apache-airflow\r\napache-airflow==2.3.4\r\napache-airflow-providers-common-sql==1.3.0\r\napache-airflow-providers-ftp==3.2.0\r\napache-airflow-providers-http==4.1.0\r\napache-airflow-providers-imap==3.1.0\r\napache-airflow-providers-sqlite==3.3.0\r\n[root@hadoop-180-91 airflow]# \r\n\r\n\r\n### Deployment\r\n\r\nOther\r\n\r\n### Deployment details\r\n\r\n_No response_\r\n\r\n### Anything else\r\n\r\n_No response_\r\n\r\n### Are you willing to submit PR?\r\n\r\n- [ ] Yes I am willing to submit a PR!\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28026/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28026/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28024",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28024/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28024/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28024/events",
      "html_url": "https://github.com/apache/airflow/pull/28024",
      "id": 1470478280,
      "node_id": "PR_kwDOAgUK285EA_Qv",
      "number": 28024,
      "title": "Add AWS SageMaker operator to register a model's version",
      "user": {
        "login": "vandonr-amz",
        "id": 114772123,
        "node_id": "U_kgDOBtdImw",
        "avatar_url": "https://avatars.githubusercontent.com/u/114772123?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vandonr-amz",
        "html_url": "https://github.com/vandonr-amz",
        "followers_url": "https://api.github.com/users/vandonr-amz/followers",
        "following_url": "https://api.github.com/users/vandonr-amz/following{/other_user}",
        "gists_url": "https://api.github.com/users/vandonr-amz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vandonr-amz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vandonr-amz/subscriptions",
        "organizations_url": "https://api.github.com/users/vandonr-amz/orgs",
        "repos_url": "https://api.github.com/users/vandonr-amz/repos",
        "events_url": "https://api.github.com/users/vandonr-amz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vandonr-amz/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1471852032,
          "node_id": "MDU6TGFiZWwxNDcxODUyMDMy",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:AWS",
          "name": "provider:AWS",
          "color": "f89500",
          "default": false,
          "description": "AWS/Amazon - related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 1987146877,
          "node_id": "MDU6TGFiZWwxOTg3MTQ2ODc3",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:system-tests",
          "name": "area:system-tests",
          "color": "ffdacc",
          "default": false,
          "description": ""
        },
        {
          "id": 1993586993,
          "node_id": "MDU6TGFiZWwxOTkzNTg2OTkz",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:documentation",
          "name": "kind:documentation",
          "color": "0030b5",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-12-01T01:01:37Z",
      "updated_at": "2022-12-01T18:40:33Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28024",
        "html_url": "https://github.com/apache/airflow/pull/28024",
        "diff_url": "https://github.com/apache/airflow/pull/28024.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28024.patch",
        "merged_at": null
      },
      "body": "Add a SageMaker operator that allows registering a model version.\r\n\r\nOne would think that this takes a model and a version as input, but it's not quite as simple. Registering a model package is actually more like pushing a new version to prod.\r\n\r\nI tried to make this as user-friendly as possible by expliciting the required parameters, and adding some of the most common ones, and the rest of the many possible parameters can be specified using kwargs.\r\nThe system test can be helpful in understanding what kind of inputs this expects.\r\n\r\nHere is the official doc : https://docs.aws.amazon.com/sagemaker/latest/dg/model-registry-version.html\r\nAnd here is some more context around model versions and package groups: https://docs.aws.amazon.com/sagemaker/latest/dg/model-registry.html",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28024/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28024/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28023",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28023/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28023/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28023/events",
      "html_url": "https://github.com/apache/airflow/issues/28023",
      "id": 1470360410,
      "node_id": "I_kwDOAgUK285Xo-ta",
      "number": 28023,
      "title": "Dataproc operators ClusterGenerator can't find parameter of ShieldedInstanceConfig",
      "user": {
        "login": "italovinicius18",
        "id": 39673124,
        "node_id": "MDQ6VXNlcjM5NjczMTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/39673124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/italovinicius18",
        "html_url": "https://github.com/italovinicius18",
        "followers_url": "https://api.github.com/users/italovinicius18/followers",
        "following_url": "https://api.github.com/users/italovinicius18/following{/other_user}",
        "gists_url": "https://api.github.com/users/italovinicius18/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/italovinicius18/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/italovinicius18/subscriptions",
        "organizations_url": "https://api.github.com/users/italovinicius18/orgs",
        "repos_url": "https://api.github.com/users/italovinicius18/repos",
        "events_url": "https://api.github.com/users/italovinicius18/events{/privacy}",
        "received_events_url": "https://api.github.com/users/italovinicius18/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 1463392518,
          "node_id": "MDU6TGFiZWwxNDYzMzkyNTE4",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:Google",
          "name": "provider:Google",
          "color": "34a350",
          "default": false,
          "description": "Google (including GCP) related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 1993586993,
          "node_id": "MDU6TGFiZWwxOTkzNTg2OTkz",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:documentation",
          "name": "kind:documentation",
          "color": "0030b5",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 5,
      "created_at": "2022-11-30T23:24:22Z",
      "updated_at": "2022-12-01T18:34:28Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### What do you see as an issue?\n\nHere is the command i'm using to create the VM:\r\n\r\n```py\r\nCLUSTER_CONFIG = {\r\n    \"master_config\": {\r\n        \"num_instances\": 1,\r\n        \"machine_type_uri\": \"n1-standard-4\",\r\n        \"disk_config\": {\"boot_disk_type\": \"pd-standard\", \"boot_disk_size_gb\": 1024},\r\n    },\r\n    \"worker_config\": {\r\n        \"num_instances\": 2,\r\n        \"machine_type_uri\": \"n1-standard-4\",\r\n        \"disk_config\": {\"boot_disk_type\": \"pd-standard\", \"boot_disk_size_gb\": 1024},\r\n    },\r\n}\r\n\r\ncreate_cluster = DataprocCreateClusterOperator(\r\n    task_id=\"create_cluster\",\r\n    project_id=PROJECT_ID,\r\n    cluster_config=CLUSTER_CONFIG,\r\n    region=REGION,\r\n    cluster_name=CLUSTER_NAME,\r\n)\r\n```\r\n\r\nAnd I'm following the document below:\r\n\r\nhttps://airflow.apache.org/docs/apache-airflow-providers-google/stable/operators/cloud/dataproc.html\r\nhttps://airflow.apache.org/docs/apache-airflow-providers-google/stable/_api/airflow/providers/google/cloud/operators/dataproc/index.html#airflow.providers.google.cloud.operators.dataproc.ClusterGenerator\r\nhttps://airflow.apache.org/docs/apache-airflow-providers-google/stable/_modules/airflow/providers/google/cloud/operators/dataproc.html#ClusterGenerator\r\n\r\nBut I want to add the options of shielded VM, like the options below:\r\n\r\n```py\r\n{\r\n  \"enableSecureBoot\": True,\r\n  \"enableVtpm\": True,\r\n  \"enableIntegrityMonitoring\": True\r\n}\r\n```\r\nBut i don't know which parameter I specify these options, and I need a help to solve this.\r\n\r\nI've tried to put this on 'properties' parameter of ClusterGenerator, but this doesn't work.\r\n\r\nCan someone help me?\n\n### Solving the problem\n\nI believe that if the documentation was more detailed, I could identify if my problem is the missing feature, seeing that I could help create this feature, but I cannot identify if this shielded vm parameter can be applied to the ClusterGenerator function\n\n### Anything else\n\n_No response_\n\n### Are you willing to submit PR?\n\n- [ ] Yes I am willing to submit a PR!\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28023/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28023/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28021",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28021/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28021/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28021/events",
      "html_url": "https://github.com/apache/airflow/pull/28021",
      "id": 1470275014,
      "node_id": "PR_kwDOAgUK285EARtn",
      "number": 28021,
      "title": "docs: Cleanup the pausing dag section",
      "user": {
        "login": "ryangrose",
        "id": 24993976,
        "node_id": "MDQ6VXNlcjI0OTkzOTc2",
        "avatar_url": "https://avatars.githubusercontent.com/u/24993976?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryangrose",
        "html_url": "https://github.com/ryangrose",
        "followers_url": "https://api.github.com/users/ryangrose/followers",
        "following_url": "https://api.github.com/users/ryangrose/following{/other_user}",
        "gists_url": "https://api.github.com/users/ryangrose/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ryangrose/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ryangrose/subscriptions",
        "organizations_url": "https://api.github.com/users/ryangrose/orgs",
        "repos_url": "https://api.github.com/users/ryangrose/repos",
        "events_url": "https://api.github.com/users/ryangrose/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ryangrose/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1993586993,
          "node_id": "MDU6TGFiZWwxOTkzNTg2OTkz",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:documentation",
          "name": "kind:documentation",
          "color": "0030b5",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-11-30T22:04:25Z",
      "updated_at": "2022-12-01T07:13:21Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28021",
        "html_url": "https://github.com/apache/airflow/pull/28021",
        "diff_url": "https://github.com/apache/airflow/pull/28021.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28021.patch",
        "merged_at": null
      },
      "body": "Revise and edit the pausing dag section: remove grammatical errors, fix sentence structure, and rewrite for clarity\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28021/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28021/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28020",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28020/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28020/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28020/events",
      "html_url": "https://github.com/apache/airflow/pull/28020",
      "id": 1470199547,
      "node_id": "PR_kwDOAgUK285EABX3",
      "number": 28020,
      "title": "Feature/#28015 default args",
      "user": {
        "login": "seunggabi",
        "id": 8468371,
        "node_id": "MDQ6VXNlcjg0NjgzNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8468371?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/seunggabi",
        "html_url": "https://github.com/seunggabi",
        "followers_url": "https://api.github.com/users/seunggabi/followers",
        "following_url": "https://api.github.com/users/seunggabi/following{/other_user}",
        "gists_url": "https://api.github.com/users/seunggabi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/seunggabi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seunggabi/subscriptions",
        "organizations_url": "https://api.github.com/users/seunggabi/orgs",
        "repos_url": "https://api.github.com/users/seunggabi/repos",
        "events_url": "https://api.github.com/users/seunggabi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/seunggabi/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
  
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-11-30T20:48:15Z",
      "updated_at": "2022-11-30T20:50:30Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": true,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28020",
        "html_url": "https://github.com/apache/airflow/pull/28020",
        "diff_url": "https://github.com/apache/airflow/pull/28020.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28020.patch",
        "merged_at": null
      },
      "body": "\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #28015\r\nrelated: #28015\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28020/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28020/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28019",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28019/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28019/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28019/events",
      "html_url": "https://github.com/apache/airflow/pull/28019",
      "id": 1470175622,
      "node_id": "PR_kwDOAgUK285D_8Op",
      "number": 28019,
      "title": "Use asserts instead of exceptions for executor not started",
      "user": {
        "login": "dstandish",
        "id": 15932138,
        "node_id": "MDQ6VXNlcjE1OTMyMTM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15932138?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dstandish",
        "html_url": "https://github.com/dstandish",
        "followers_url": "https://api.github.com/users/dstandish/followers",
        "following_url": "https://api.github.com/users/dstandish/following{/other_user}",
        "gists_url": "https://api.github.com/users/dstandish/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dstandish/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dstandish/subscriptions",
        "organizations_url": "https://api.github.com/users/dstandish/orgs",
        "repos_url": "https://api.github.com/users/dstandish/repos",
        "events_url": "https://api.github.com/users/dstandish/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dstandish/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1545560198,
          "node_id": "MDU6TGFiZWwxNTQ1NTYwMTk4",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:scheduler/executor",
          "name": "area:scheduler/executor",
          "color": "6a3aaa",
          "default": false,
          "description": "Scheduler or Executor related Issues"
        },
        {
          "id": 2504183113,
          "node_id": "MDU6TGFiZWwyNTA0MTgzMTEz",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:kubernetes",
          "name": "area:kubernetes",
          "color": "ededed",
          "default": false,
          "description": null
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 4,
      "created_at": "2022-11-30T20:22:30Z",
      "updated_at": "2022-12-01T00:12:04Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28019",
        "html_url": "https://github.com/apache/airflow/pull/28019",
        "diff_url": "https://github.com/apache/airflow/pull/28019.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28019.patch",
        "merged_at": null
      },
      "body": "It's a little cleaner, and I'm pretty sure the actual practical import here is just getting mypy to cooperate, so I think the intention is clearer this way too.\r\n\r\n## question\r\n\r\ndo we really need the \"not started\" message? it's ugly...",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28019/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28019/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28016",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28016/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28016/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28016/events",
      "html_url": "https://github.com/apache/airflow/issues/28016",
      "id": 1470079549,
      "node_id": "I_kwDOAgUK285Xn6I9",
      "number": 28016,
      "title": "Manual DAG runs cause `prev_data_interval_start_success` and `prev_data_interval_end_success` to behave unexpectedly",
      "user": {
        "login": "matthewblock",
        "id": 10802053,
        "node_id": "MDQ6VXNlcjEwODAyMDUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/10802053?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/matthewblock",
        "html_url": "https://github.com/matthewblock",
        "followers_url": "https://api.github.com/users/matthewblock/followers",
        "following_url": "https://api.github.com/users/matthewblock/following{/other_user}",
        "gists_url": "https://api.github.com/users/matthewblock/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/matthewblock/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/matthewblock/subscriptions",
        "organizations_url": "https://api.github.com/users/matthewblock/orgs",
        "repos_url": "https://api.github.com/users/matthewblock/repos",
        "events_url": "https://api.github.com/users/matthewblock/events{/privacy}",
        "received_events_url": "https://api.github.com/users/matthewblock/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1923278889,
          "node_id": "MDU6TGFiZWwxOTIzMjc4ODg5",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:feature",
          "name": "kind:feature",
          "color": "5319e7",
          "default": false,
          "description": "Feature Requests"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 4862050175,
          "node_id": "LA_kwDOAgUK288AAAABIcz_fw",
          "url": "https://api.github.com/repos/apache/airflow/labels/involves%20core%20breaking%20change",
          "name": "involves core breaking change",
          "color": "bfd4f2",
          "default": false,
          "description": "can be done only as part of Airflow 3"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 2,
      "created_at": "2022-11-30T18:50:32Z",
      "updated_at": "2022-12-01T11:40:17Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\r\n\r\nOther Airflow 2 version (please specify below)\r\n\r\n### What happened\r\n\r\nUsing Airflow Version 2.4.2\r\n\r\nManually triggered DAG runs interspersed between scheduled DAG runs cause the scheduled DAG runs' [template variables](https://airflow.apache.org/docs/apache-airflow/stable/templates-ref.html) — in our specific use case, `prev_data_interval_start_success` and `prev_data_interval_end_success` — to no longer behave as expected. This appears to be due to how Airflow determines a previous DAG run.\r\n\r\nWhen we have mixed manually triggered and scheduled DAG runs, the `logical_date` are not equivalent - For manually triggered DAG runs, the `logical_date` is the exact timestamp the DAG was triggered.\r\n\r\nThe following table shows mixed manually triggered and scheduled DAG runs, and some of the templated timestamps. Notice that this table is ordered by the `Actual execution date`, which is the exact timestamp the DAG executed, and that the `logical_date` is out of order for manually triggered DAGs.\r\n\r\n_**Bolded italics**_ are the template variables that IMO do not behave as predicted:\r\n\r\n| DAG Run | Triggered | `logical_date` | Actual execution date | `data_interval`<br />`_start` | `data_interval`<br />`_end` | `prev_data_`<br />`interval_`<br />`start_success` | `prev_data_`<br />`interval_`<br />`end_success` |\r\n| ------- | --------- | ------------- | --------------------- | --------------------- | ------------------- | ------------------------------------ | ---------------------------------- |\r\n| 1       | Scheduled | 1:05:00       | 1:10:29               | 1:05:00               | 1:10:00             | None                                 | None                               |\r\n| 2       | Manual    | 1:11:26       | 1:11:26               | 1:05:00               | 1:10:00             | 1:05:00                              | 1:10:00                            |\r\n| 3       | Scheduled | 1:10:00       | 1:15:00               | 1:10:00               | 1:15:00             | 1:05:00                              | 1:10:00                            |\r\n| 4       | Manual    | 1:17:51       | 1:17:52               | 1:10:00               | 1:15:00             | 1:05:00                              | 1:10:00                            |\r\n| 5       | Scheduled | 1:15:00       | 1:20:01               | 1:15:00               | 1:20:00             | _**1:05:00**_                              | _**1:10:00**_                            |\r\n| 6       | Scheduled | 1:20:00       | 1:25:00               | 1:20:00               | 1:25:00             | _**1:10:00**_                              | _**1:15:00**_                            |\r\n| 7       | Scheduled | 1:25:00       | 1:30:01               | 1:25:00               | 1:30:00             | 1:20:00                              | 1:25:00                            |\r\n\r\nFor the bolded scheduled DAG runs, note that the `prev_data_interval_start_success` and `prev_data_interval_end_success` both point to the data interval that is technically **earlier** than the most recent successful DAG run's data interval.\r\n\r\n#### Causes\r\n\r\nI believe this is due to the way Airflow calculates the **previous DAG run**. If we order by `logical_date`, this function will prioritize manually triggered DAG runs, because:\r\n- Manually triggered DAG runs' `logical_date` (`==execution_date`) are _later_ than `data_interval_end`\r\n- Scheduled DAG runs' `logical_date` are _equal to_ `data_interval_start`, which occurs **before** `data_interval_end` for an equivalent \"trigger\" timestamp\r\n\r\nSee in [`airflow/models/dagrun.py`](https://github.com/apache/airflow/blob/430e930902792fc37cdd2c517783f7dd544fbebf/airflow/models/dagrun.py#L503):\r\n\r\n```\r\n    @provide_session\r\n    def get_previous_dagrun(\r\n        self, state: DagRunState | None = None, session: Session = NEW_SESSION\r\n    ) -> DagRun | None:\r\n        \"\"\"The previous DagRun, if there is one\"\"\"\r\n        filters = [\r\n            DagRun.dag_id == self.dag_id,\r\n            DagRun.execution_date < self.execution_date, <-- THIS LINE\r\n        ]\r\n        if state is not None:\r\n            filters.append(DagRun.state == state)\r\n        return session.query(DagRun).filter(*filters).order_by(DagRun.execution_date.desc()).first()\r\n```\r\n\r\n### What you think should happen instead\r\n\r\nIMO this is a bug - DAG Run 6 in the table above should identify DAG Run 5 as the most recent successful DAG run, and the template variables should reflect this accordingly. \r\n\r\nA deeper issue in how Airflow draws the line between scheduled DAG runs and manually triggered DAG runs.\r\n\r\nThere have been [discussions](https://github.com/apache/airflow/discussions/22232) on keeping manually triggered DAGs and scheduled DAGs entirely separate - best practice being don't ever manually trigger scheduled DAG runs.\r\n\r\nIn our use case, we want to be able to easily trigger a DAG run when there is a gap in execution, and that DAG run should have a data interval that covers any gaps.\r\n\r\n**Possible Solutions**\r\n\r\n- For DAGs that have a time-based schedule (not `null` and not a `Dataset`), manually triggered DAG runs set `logical_date` to `data_interval_start`\r\n- Enhance backfill feature by enabling it via UI, not just CLI\r\n    - Backfill should be much more accessible to Airflow users\r\n\r\n### How to reproduce\r\n\r\nSample DAG that prints template variables every 5 minutes.\r\n\r\nTo reproduce, manually trigger the DAG between scheduled DAG runs and note the lag in `prev_data_interval_start_success` and `prev_data_interval_end_success`.\r\n\r\n```\r\nfrom datetime import datetime, timedelta\r\n\r\nfrom airflow import DAG\r\nfrom airflow.operators.python import PythonOperator\r\n\r\ndefault_args = {\r\n    \"owner\": \"airflow\",\r\n    \"depends_on_past\": False,\r\n    \"start_date\": datetime(2020, 1, 1),\r\n    \"retries\": 0,\r\n    \"retry_delay\": timedelta(minutes=5),\r\n}\r\n\r\n\r\ndef print_data_intervals(\r\n    data_interval_start: datetime,\r\n    data_interval_end: datetime,\r\n    prev_data_interval_start_success: datetime,\r\n    prev_data_interval_end_success: datetime,\r\n    logical_date: datetime,\r\n):\r\n    print(f\"{data_interval_start=}\")\r\n    print(f\"{data_interval_end=}\")\r\n    print(f\"{prev_data_interval_start_success=}\")\r\n    print(f\"{prev_data_interval_end_success=}\")\r\n    print(f\"{logical_date=}\")\r\n\r\n\r\nwith DAG(\r\n    dag_id=\"test_data_intervals\",\r\n    default_args=default_args,\r\n    schedule=\"*/5 * * * *\",\r\n    catchup=False,\r\n):\r\n    task = PythonOperator(\r\n        task_id=\"print_data_intervals\",\r\n        python_callable=print_data_intervals,\r\n    )\r\n\r\n    task\r\n\r\n```\r\n\r\n### Operating System\r\n\r\ndebian\r\n\r\n### Versions of Apache Airflow Providers\r\n\r\n_No response_\r\n\r\n### Deployment\r\n\r\nDocker-Compose\r\n\r\n### Deployment details\r\n\r\n_No response_\r\n\r\n### Anything else\r\n\r\n_No response_\r\n\r\n### Are you willing to submit PR?\r\n\r\n- [ ] Yes I am willing to submit a PR!\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28016/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28016/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28014",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28014/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28014/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28014/events",
      "html_url": "https://github.com/apache/airflow/pull/28014",
      "id": 1470003983,
      "node_id": "PR_kwDOAgUK285D_XVV",
      "number": 28014,
      "title": "Fix to LoadBalancer snippet",
      "user": {
        "login": "matt-theguyw1cat",
        "id": 5447519,
        "node_id": "MDQ6VXNlcjU0NDc1MTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5447519?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/matt-theguyw1cat",
        "html_url": "https://github.com/matt-theguyw1cat",
        "followers_url": "https://api.github.com/users/matt-theguyw1cat/followers",
        "following_url": "https://api.github.com/users/matt-theguyw1cat/following{/other_user}",
        "gists_url": "https://api.github.com/users/matt-theguyw1cat/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/matt-theguyw1cat/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/matt-theguyw1cat/subscriptions",
        "organizations_url": "https://api.github.com/users/matt-theguyw1cat/orgs",
        "repos_url": "https://api.github.com/users/matt-theguyw1cat/repos",
        "events_url": "https://api.github.com/users/matt-theguyw1cat/events{/privacy}",
        "received_events_url": "https://api.github.com/users/matt-theguyw1cat/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1971984525,
          "node_id": "MDU6TGFiZWwxOTcxOTg0NTI1",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:helm-chart",
          "name": "area:helm-chart",
          "color": "024e91",
          "default": false,
          "description": "Airflow Helm Chart"
        },
        {
          "id": 1993586993,
          "node_id": "MDU6TGFiZWwxOTkzNTg2OTkz",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:documentation",
          "name": "kind:documentation",
          "color": "0030b5",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-11-30T17:41:42Z",
      "updated_at": "2022-11-30T22:48:38Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28014",
        "html_url": "https://github.com/apache/airflow/pull/28014",
        "diff_url": "https://github.com/apache/airflow/pull/28014.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28014.patch",
        "merged_at": null
      },
      "body": "Existing gives error: warning: cannot overwrite table with non table for...  on helm update and doesn't align with the current parameter reference for webserver: https://airflow.apache.org/docs/helm-chart/stable/parameters-ref.html#webserver\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28014/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28014/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28013",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28013/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28013/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28013/events",
      "html_url": "https://github.com/apache/airflow/issues/28013",
      "id": 1469973883,
      "node_id": "I_kwDOAgUK285XngV7",
      "number": 28013,
      "title": "Add a provider to interact with Microsoft Graph API/SDK ",
      "user": {
        "login": "odaneau-astro",
        "id": 111886489,
        "node_id": "U_kgDOBqtAmQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/111886489?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/odaneau-astro",
        "html_url": "https://github.com/odaneau-astro",
        "followers_url": "https://api.github.com/users/odaneau-astro/followers",
        "following_url": "https://api.github.com/users/odaneau-astro/following{/other_user}",
        "gists_url": "https://api.github.com/users/odaneau-astro/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/odaneau-astro/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/odaneau-astro/subscriptions",
        "organizations_url": "https://api.github.com/users/odaneau-astro/orgs",
        "repos_url": "https://api.github.com/users/odaneau-astro/repos",
        "events_url": "https://api.github.com/users/odaneau-astro/events{/privacy}",
        "received_events_url": "https://api.github.com/users/odaneau-astro/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 3941496830,
          "node_id": "LA_kwDOAgUK287q7nf-",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:new%20provider%20request",
          "name": "kind:new provider request",
          "color": "3959F9",
          "default": false,
          "description": "label to mark request for adding new provider"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-11-30T17:16:02Z",
      "updated_at": "2022-12-01T07:17:26Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "body": "### Description\n\nAdd a new provider for Microsoft Graph API & SDK.\r\n\r\nhttps://learn.microsoft.com/en-us/graph/overview\r\nThe Microsoft Graph API offers a single endpoint, https://graph.microsoft.com, to provide access to rich, people-centric data and insights in the Microsoft cloud, including Microsoft 365, Windows, and Enterprise Mobility + Security. You can use REST APIs or SDKs to access the endpoint and build apps that support Microsoft 365 scenarios, spanning across productivity, collaboration, education, people and workplace intelligence, and more. Microsoft Graph also includes a powerful set of services that manage user and device identity, access, compliance, and security and help protect organizations from data leakage or loss.\n\n### Use case/motivation\n\nThis would allow interactions with all of these Microsoft Products:\r\n\r\n- **Microsoft 365 core services**: Bookings, Calendar, Delve, Excel, Microsoft 365 compliance eDiscovery, Microsoft Search, OneDrive, OneNote, Outlook/Exchange, People (Outlook contacts), Planner, SharePoint, Teams, To Do, Viva Insights\r\n- **Enterprise Mobility + Security services**: Advanced Threat Analytics, Advanced Threat Protection, Azure Active Directory, Identity Manager, and Intune\r\n**Windows services:** activities, devices, notifications, Universal Print\r\nDynamics 365 Business Central services\n\n### Related issues\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [x] Yes I am willing to submit a PR!\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28013/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28013/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28012",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28012/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28012/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28012/events",
      "html_url": "https://github.com/apache/airflow/pull/28012",
      "id": 1469863458,
      "node_id": "PR_kwDOAgUK285D-5BC",
      "number": 28012,
      "title": "Sagemaker system test: remove the log group associated to the test",
      "user": {
        "login": "vincbeck",
        "id": 97131062,
        "node_id": "U_kgDOBcoaNg",
        "avatar_url": "https://avatars.githubusercontent.com/u/97131062?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vincbeck",
        "html_url": "https://github.com/vincbeck",
        "followers_url": "https://api.github.com/users/vincbeck/followers",
        "following_url": "https://api.github.com/users/vincbeck/following{/other_user}",
        "gists_url": "https://api.github.com/users/vincbeck/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vincbeck/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vincbeck/subscriptions",
        "organizations_url": "https://api.github.com/users/vincbeck/orgs",
        "repos_url": "https://api.github.com/users/vincbeck/repos",
        "events_url": "https://api.github.com/users/vincbeck/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vincbeck/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1987146877,
          "node_id": "MDU6TGFiZWwxOTg3MTQ2ODc3",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:system-tests",
          "name": "area:system-tests",
          "color": "ffdacc",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-30T15:56:16Z",
      "updated_at": "2022-11-30T15:56:20Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28012",
        "html_url": "https://github.com/apache/airflow/pull/28012",
        "diff_url": "https://github.com/apache/airflow/pull/28012.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28012.patch",
        "merged_at": null
      },
      "body": "Sagemaker system test: remove the log group associated to the test",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28012/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28012/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28010",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28010/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28010/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28010/events",
      "html_url": "https://github.com/apache/airflow/issues/28010",
      "id": 1469804366,
      "node_id": "I_kwDOAgUK285Xm29O",
      "number": 28010,
      "title": "Airflow does not pass through Celery's support for Redis Sentinel over SSL.",
      "user": {
        "login": "jonathanjuursema",
        "id": 1134192,
        "node_id": "MDQ6VXNlcjExMzQxOTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1134192?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonathanjuursema",
        "html_url": "https://github.com/jonathanjuursema",
        "followers_url": "https://api.github.com/users/jonathanjuursema/followers",
        "following_url": "https://api.github.com/users/jonathanjuursema/following{/other_user}",
        "gists_url": "https://api.github.com/users/jonathanjuursema/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jonathanjuursema/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jonathanjuursema/subscriptions",
        "organizations_url": "https://api.github.com/users/jonathanjuursema/orgs",
        "repos_url": "https://api.github.com/users/jonathanjuursema/repos",
        "events_url": "https://api.github.com/users/jonathanjuursema/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jonathanjuursema/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-11-30T15:15:32Z",
      "updated_at": "2022-11-30T15:19:55Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\r\n\r\n2.4.3\r\n\r\n### What happened\r\n\r\nWhen configuring Airflow/Celery to use Redis Sentinel as a broker, the following pops up:\r\n\r\n```\r\nairflow.exceptions.AirflowException: The broker you configured does not support SSL_ACTIVE to be True. Please use RabbitMQ or Redis if you would like to use SSL for broker.\r\n```\r\n\r\n### What you think should happen instead\r\n\r\nCelery has supported TLS on Redis Sentinel [for a while](https://docs.celeryq.dev/en/latest/history/whatsnew-5.1.html#support-redis-sentinel-with-ssl) now.\r\n\r\nIt looks like [this piece of code](https://github.com/apache/airflow/blob/main/airflow/config_templates/default_celery.py#L68-L88) explicitly prohibits from passing a valid Redis Sentinel TLS configuration through to Celery. (Since Sentinel broker URL's are prefixed with `sentinel://` instead of `redis://`.)\r\n\r\n### How to reproduce\r\n\r\nThis problem can be reproduced by deploying Airflow using Docker with the following environment variables:\r\n\r\n```\r\nAIRFLOW__CELERY__BROKER_URL=sentinel://sentinel1:26379;sentinel://sentinel2:26379;sentinel://sentinel3:26379\r\nAIRFLOW__CELERY__SSL_ACTIVE=true\r\nAIRFLOW__CELERY_BROKER_TRANSPORT_OPTIONS__MASTER_NAME='some-master-name'\r\nAIRFLOW__CELERY_BROKER_TRANSPORT_OPTIONS__PASSWORD='some-password'\r\nAIRFLOW__LOGGING__LOGGING_LEVEL=DEBUG\r\n```\r\n\r\nNote that I'm not 100% certain of the syntax for the password environment var. I can't get to the point of testing this because without TLS connections to our internal brokers are denied (because they require TLS), and with TLS it doesn't attempt a connection because of the earlier linked code.\r\n\r\nI've verified with the reference `redis-cli` that the settings we use for `master-name` does result in a valid response and the Sentinel set-up works as expected.\r\n\r\n### Operating System\r\n\r\nDocker (apache/airflow:2.4.3-python3.10)\r\n\r\n### Versions of Apache Airflow Providers\r\n\r\n_No response_\r\n\r\n### Deployment\r\n\r\nOther Docker-based deployment\r\n\r\n### Deployment details\r\n\r\nDeployed using Nomad.\r\n\r\n### Anything else\r\n\r\nThis is my first issue with this open source project. Please let me know if there's more relevant information I can provide to follow through on this issue.\r\n\r\nI will try to make some time available soon to see if a simple code change in the earlier mentioned file would work, but as this is my first issue here I would still have to set-up a full development environment.\r\n\r\n### Are you willing to submit PR?\r\n\r\n- [X] Yes I am willing to submit a PR!\r\n\r\nIf this is indeed a simple fix I'd be willing to look into making a PR. I would like some feedback on the problem first though if possible!\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28010/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28010/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28007",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28007/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28007/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28007/events",
      "html_url": "https://github.com/apache/airflow/pull/28007",
      "id": 1469521114,
      "node_id": "PR_kwDOAgUK285D9urr",
      "number": 28007,
      "title": "Add pre-commit hook to check session default value",
      "user": {
        "login": "uranusjr",
        "id": 605277,
        "node_id": "MDQ6VXNlcjYwNTI3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/605277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/uranusjr",
        "html_url": "https://github.com/uranusjr",
        "followers_url": "https://api.github.com/users/uranusjr/followers",
        "following_url": "https://api.github.com/users/uranusjr/following{/other_user}",
        "gists_url": "https://api.github.com/users/uranusjr/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/uranusjr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/uranusjr/subscriptions",
        "organizations_url": "https://api.github.com/users/uranusjr/orgs",
        "repos_url": "https://api.github.com/users/uranusjr/repos",
        "events_url": "https://api.github.com/users/uranusjr/events{/privacy}",
        "received_events_url": "https://api.github.com/users/uranusjr/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1769003317,
          "node_id": "MDU6TGFiZWwxNzY5MDAzMzE3",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:dev-tools",
          "name": "area:dev-tools",
          "color": "ededed",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-30T12:01:58Z",
      "updated_at": "2022-12-01T09:02:52Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28007",
        "html_url": "https://github.com/apache/airflow/pull/28007",
        "diff_url": "https://github.com/apache/airflow/pull/28007.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28007.patch",
        "merged_at": null
      },
      "body": "Is it surprising there are actually quite a few problematic usages in the code base?",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28007/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 1,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28007/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28005",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28005/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28005/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28005/events",
      "html_url": "https://github.com/apache/airflow/pull/28005",
      "id": 1469383930,
      "node_id": "PR_kwDOAgUK285D9Q4v",
      "number": 28005,
      "title": "Fix GlueCrawlerOperature failure when using tags (apache#27556)",
      "user": {
        "login": "IAL32",
        "id": 562969,
        "node_id": "MDQ6VXNlcjU2Mjk2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/562969?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IAL32",
        "html_url": "https://github.com/IAL32",
        "followers_url": "https://api.github.com/users/IAL32/followers",
        "following_url": "https://api.github.com/users/IAL32/following{/other_user}",
        "gists_url": "https://api.github.com/users/IAL32/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/IAL32/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/IAL32/subscriptions",
        "organizations_url": "https://api.github.com/users/IAL32/orgs",
        "repos_url": "https://api.github.com/users/IAL32/repos",
        "events_url": "https://api.github.com/users/IAL32/events{/privacy}",
        "received_events_url": "https://api.github.com/users/IAL32/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1471852032,
          "node_id": "MDU6TGFiZWwxNDcxODUyMDMy",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:AWS",
          "name": "provider:AWS",
          "color": "f89500",
          "default": false,
          "description": "AWS/Amazon - related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 5,
      "created_at": "2022-11-30T10:16:33Z",
      "updated_at": "2022-12-01T16:19:25Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28005",
        "html_url": "https://github.com/apache/airflow/pull/28005",
        "diff_url": "https://github.com/apache/airflow/pull/28005.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28005.patch",
        "merged_at": null
      },
      "body": "<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\nCloses https://github.com/apache/airflow/issues/27556.\r\nPrevious implementation assumes that the current crawler data always has the keys in the wanted configuration, but this is not true, causing a KeyError when the key is not present in the current crawler configuration.\r\n\r\nThis PR fixes this by using the more stable `dict.get` method, providing a default value of None to allow proper comparison.",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28005/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28005/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28001",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28001/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28001/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28001/events",
      "html_url": "https://github.com/apache/airflow/pull/28001",
      "id": 1469196351,
      "node_id": "PR_kwDOAgUK285D8pCb",
      "number": 28001,
      "title": "Add documentation for task group mapping",
      "user": {
        "login": "uranusjr",
        "id": 605277,
        "node_id": "MDQ6VXNlcjYwNTI3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/605277?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/uranusjr",
        "html_url": "https://github.com/uranusjr",
        "followers_url": "https://api.github.com/users/uranusjr/followers",
        "following_url": "https://api.github.com/users/uranusjr/following{/other_user}",
        "gists_url": "https://api.github.com/users/uranusjr/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/uranusjr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/uranusjr/subscriptions",
        "organizations_url": "https://api.github.com/users/uranusjr/orgs",
        "repos_url": "https://api.github.com/users/uranusjr/repos",
        "events_url": "https://api.github.com/users/uranusjr/events{/privacy}",
        "received_events_url": "https://api.github.com/users/uranusjr/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1993586993,
          "node_id": "MDU6TGFiZWwxOTkzNTg2OTkz",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:documentation",
          "name": "kind:documentation",
          "color": "0030b5",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-30T07:50:42Z",
      "updated_at": "2022-11-30T18:04:53Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/28001",
        "html_url": "https://github.com/apache/airflow/pull/28001",
        "diff_url": "https://github.com/apache/airflow/pull/28001.diff",
        "patch_url": "https://github.com/apache/airflow/pull/28001.patch",
        "merged_at": null
      },
      "body": "I also took the chance to reorganise existing task mapping documentation a _little_ bit to make the document flows better (for me).\r\n\r\nNote that this is intended to be in Airflow 2.6, _not 2.5_.",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28001/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28001/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/28000",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/28000/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/28000/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/28000/events",
      "html_url": "https://github.com/apache/airflow/issues/28000",
      "id": 1469055907,
      "node_id": "I_kwDOAgUK285XkAOj",
      "number": 28000,
      "title": "Add IAM authentication to Amazon Redshift Connection by AWS Connection",
      "user": {
        "login": "Taragolis",
        "id": 3998685,
        "node_id": "MDQ6VXNlcjM5OTg2ODU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3998685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Taragolis",
        "html_url": "https://github.com/Taragolis",
        "followers_url": "https://api.github.com/users/Taragolis/followers",
        "following_url": "https://api.github.com/users/Taragolis/following{/other_user}",
        "gists_url": "https://api.github.com/users/Taragolis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Taragolis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Taragolis/subscriptions",
        "organizations_url": "https://api.github.com/users/Taragolis/orgs",
        "repos_url": "https://api.github.com/users/Taragolis/repos",
        "events_url": "https://api.github.com/users/Taragolis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Taragolis/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1471852032,
          "node_id": "MDU6TGFiZWwxNDcxODUyMDMy",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:AWS",
          "name": "provider:AWS",
          "color": "f89500",
          "default": false,
          "description": "AWS/Amazon - related issues"
        },
        {
          "id": 1923278889,
          "node_id": "MDU6TGFiZWwxOTIzMjc4ODg5",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:feature",
          "name": "kind:feature",
          "color": "5319e7",
          "default": false,
          "description": "Feature Requests"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-30T05:09:08Z",
      "updated_at": "2022-11-30T05:09:08Z",
      "closed_at": null,
      "author_association": "COLLABORATOR",
      "active_lock_reason": null,
      "body": "### Description\n\nAllow authenticating to Redshift Cluster in `airflow.providers.amazon.aws.hooks.redshift_sql.RedshiftSQLHook` with temporary IAM Credentials.\r\n\r\nThis might be implemented by the same way as it already implemented into PostgreSQL Hook - manual obtain credentials by call [GetClusterCredentials](https://docs.aws.amazon.com/redshift/latest/APIReference/API_GetClusterCredentials.html) thought Redshift API.\r\n\r\nhttps://github.com/apache/airflow/blob/56b5f3f4eed6a48180e9d15ba9bb9664656077b1/airflow/providers/postgres/hooks/postgres.py#L221-L235\r\n\r\nOr by passing obtained temporary credentials into [redshift-connector](https://github.com/aws/amazon-redshift-python-driver#example-using-iam-credentials)\r\n\n\n### Use case/motivation\n\nThis allows users connect to Redshift Cluster by re-use already existed [Amazon Web Services Connection](https://airflow.apache.org/docs/apache-airflow-providers-amazon/stable/connections/aws.html) \n\n### Related issues\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I am willing to submit a PR!\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/28000/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/28000/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27998",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27998/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27998/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27998/events",
      "html_url": "https://github.com/apache/airflow/issues/27998",
      "id": 1469010048,
      "node_id": "I_kwDOAgUK285Xj1CA",
      "number": 27998,
      "title": "Airflow Database Upgrade error: sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) column \"operator\" of relation \"task_instance\" already exists",
      "user": {
        "login": "ChandelAnushka",
        "id": 51352909,
        "node_id": "MDQ6VXNlcjUxMzUyOTA5",
        "avatar_url": "https://avatars.githubusercontent.com/u/51352909?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ChandelAnushka",
        "html_url": "https://github.com/ChandelAnushka",
        "followers_url": "https://api.github.com/users/ChandelAnushka/followers",
        "following_url": "https://api.github.com/users/ChandelAnushka/following{/other_user}",
        "gists_url": "https://api.github.com/users/ChandelAnushka/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ChandelAnushka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ChandelAnushka/subscriptions",
        "organizations_url": "https://api.github.com/users/ChandelAnushka/orgs",
        "repos_url": "https://api.github.com/users/ChandelAnushka/repos",
        "events_url": "https://api.github.com/users/ChandelAnushka/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ChandelAnushka/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-30T03:57:30Z",
      "updated_at": "2022-11-30T03:59:59Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\r\n\r\nOther Airflow 2 version (please specify below)\r\n\r\n### What happened\r\n\r\nApache Airflow version\r\n2.3.2\r\n\r\nWhat happened\r\nMy production deployment had Airflow v2.1.2. It already had Dags, Task Instances, etc., in the tables. When upgrading to Airflow v2.3.2, the execution of airflow db upgrade resulted in the failure: sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) column \"operator\" of relation \"task_instance\" already exists\r\n\r\n\r\nThe logs/traceback:\r\n\r\n\r\n\r\n```\r\n[2022-11-29 20:39:35,050] {{db.py:1448}} INFO - Creating tables\r\nINFO  [alembic.runtime.migration] Context impl PostgresqlImpl.\r\nINFO  [alembic.runtime.migration] Will assume transactional DDL.\r\nINFO  [alembic.runtime.migration] Running upgrade 13eb55f81627 -> 338e90f54d61, Add ``operator`` and ``queued_dttm`` to ``task_instance`` table\r\nTraceback (most recent call last):\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1706, in _execute_context\r\n    cursor, statement, parameters, context\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 716, in do_execute\r\n    cursor.execute(statement, parameters)\r\npsycopg2.ProgrammingError: column \"operator\" of relation \"task_instance\" already exists\r\n\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/a/bin/airflow\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/a/lib/python3.7/site-packages/airflow/__main__.py\", line 38, in main\r\n    args.func(args)\r\n  File \"/a/lib/python3.7/site-packages/airflow/cli/cli_parser.py\", line 51, in command\r\n    return func(*args, **kwargs)\r\n  File \"/a/lib/python3.7/site-packages/airflow/utils/cli.py\", line 99, in wrapper\r\n    return f(*args, **kwargs)\r\n  File \"/a/lib/python3.7/site-packages/airflow/cli/commands/db_command.py\", line 82, in upgradedb\r\n    db.upgradedb(to_revision=to_revision, from_revision=from_revision, show_sql_only=args.show_sql_only)\r\n  File \"/a/lib/python3.7/site-packages/airflow/utils/session.py\", line 71, in wrapper\r\n    return func(*args, session=session, **kwargs)\r\n  File \"/a/lib/python3.7/site-packages/airflow/utils/db.py\", line 1449, in upgradedb\r\n    command.upgrade(config, revision=to_revision or 'heads')\r\n  File \"/a/lib/python3.7/site-packages/alembic/command.py\", line 320, in upgrade\r\n    script.run_env()\r\n  File \"/a/lib/python3.7/site-packages/alembic/script/base.py\", line 563, in run_env\r\n    util.load_python_file(self.dir, \"env.py\")\r\n  File \"/a/lib/python3.7/site-packages/alembic/util/pyfiles.py\", line 92, in load_python_file\r\n    module = load_module_py(module_id, path)\r\n  File \"/a/lib/python3.7/site-packages/alembic/util/pyfiles.py\", line 108, in load_module_py\r\n    spec.loader.exec_module(module)  # type: ignore\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/a/lib/python3.7/site-packages/airflow/migrations/env.py\", line 107, in <module>\r\n    run_migrations_online()\r\n  File \"/a/lib/python3.7/site-packages/airflow/migrations/env.py\", line 101, in run_migrations_online\r\n    context.run_migrations()\r\n  File \"<string>\", line 8, in run_migrations\r\n  File \"/a/lib/python3.7/site-packages/alembic/runtime/environment.py\", line 851, in run_migrations\r\n    self.get_context().run_migrations(**kw)\r\n  File \"/a/lib/python3.7/site-packages/alembic/runtime/migration.py\", line 612, in run_migrations\r\n    step.migration_fn(**kw)\r\n  File \"/a/lib/python3.7/site-packages/airflow/migrations/versions/0004_1_5_0_more_logging_into_task_isntance.py\", line 38, in upgrade\r\n    op.add_column('task_instance', sa.Column('operator', sa.String(length=1000), nullable=True))\r\n  File \"<string>\", line 8, in add_column\r\n  File \"<string>\", line 3, in add_column\r\n  File \"/a/lib/python3.7/site-packages/alembic/operations/ops.py\", line 2047, in add_column\r\n    return operations.invoke(op)\r\n  File \"/a/lib/python3.7/site-packages/alembic/operations/base.py\", line 387, in invoke\r\n    return fn(self, operation)\r\n  File \"/a/lib/python3.7/site-packages/alembic/operations/toimpl.py\", line 154, in add_column\r\n    operations.impl.add_column(table_name, column, schema=schema, **kw)\r\n  File \"/a/lib/python3.7/site-packages/alembic/ddl/impl.py\", line 324, in add_column\r\n    self._exec(base.AddColumn(table_name, column, schema=schema))\r\n  File \"/a/lib/python3.7/site-packages/alembic/ddl/impl.py\", line 197, in _exec\r\n    return conn.execute(construct, multiparams)\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1200, in execute\r\n    return meth(self, multiparams, params, _EMPTY_EXECUTION_OPTS)\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 78, in _execute_on_connection\r\n    self, multiparams, params, execution_options\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1296, in _execute_ddl\r\n    compiled,\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1749, in _execute_context\r\n    e, statement, parameters, cursor, context\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1930, in _handle_dbapi_exception\r\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 211, in raise_\r\n    raise exception\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1706, in _execute_context\r\n    cursor, statement, parameters, context\r\n  File \"/a/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 716, in do_execute\r\n    cursor.execute(statement, parameters)\r\nsqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) column \"operator\" of relation \"task_instance\" already exists\r\n\r\n[SQL: ALTER TABLE task_instance ADD COLUMN operator VARCHAR(1000)]\r\n```\r\n\r\n### What you think should happen instead\r\n\r\nThe database upgrade should have succeeded.\r\n\r\n### How to reproduce\r\n\r\nInstall Airflow 2.1.0 and initialize airflow db.\r\nCreate and execute some dags so that Dag table gets populated.\r\nUpgrade airflow to 2.3.2 and execute airflow db upgrade.\r\n\r\n### Operating System\r\n\r\nMac OS Monterey\r\n\r\n### Versions of Apache Airflow Providers\r\n\r\napache-airflow-providers-amazon 6.0.0\r\napache-airflow-providers-celery 3.0.0\r\napache-airflow-providers-ftp 3.1.0\r\napache-airflow-providers-imap 3.0.0\r\napache-airflow-providers-papermill 3.0.0\r\napache-airflow-providers-postgres 5.2.0\r\napache-airflow-providers-redis 3.0.0\r\napache-airflow-providers-sqlite 3.2.1\r\napache-airflow-providers-ssh 3.2.0\r\n\r\n\r\n\r\n### Deployment\r\n\r\nVirtualenv installation\r\n\r\n### Deployment details\r\n\r\n_No response_\r\n\r\n### Anything else\r\n\r\n_No response_\r\n\r\n### Are you willing to submit PR?\r\n\r\n- [ ] Yes I am willing to submit a PR!\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27998/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27998/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27979",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27979/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27979/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27979/events",
      "html_url": "https://github.com/apache/airflow/issues/27979",
      "id": 1467396810,
      "node_id": "I_kwDOAgUK285XdrLK",
      "number": 27979,
      "title": "Cancel a step created from EmrAddStepsOperator",
      "user": {
        "login": "o-nikolas",
        "id": 65743084,
        "node_id": "MDQ6VXNlcjY1NzQzMDg0",
        "avatar_url": "https://avatars.githubusercontent.com/u/65743084?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/o-nikolas",
        "html_url": "https://github.com/o-nikolas",
        "followers_url": "https://api.github.com/users/o-nikolas/followers",
        "following_url": "https://api.github.com/users/o-nikolas/following{/other_user}",
        "gists_url": "https://api.github.com/users/o-nikolas/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/o-nikolas/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/o-nikolas/subscriptions",
        "organizations_url": "https://api.github.com/users/o-nikolas/orgs",
        "repos_url": "https://api.github.com/users/o-nikolas/repos",
        "events_url": "https://api.github.com/users/o-nikolas/events{/privacy}",
        "received_events_url": "https://api.github.com/users/o-nikolas/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1471852032,
          "node_id": "MDU6TGFiZWwxNDcxODUyMDMy",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:AWS",
          "name": "provider:AWS",
          "color": "f89500",
          "default": false,
          "description": "AWS/Amazon - related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 1923278889,
          "node_id": "MDU6TGFiZWwxOTIzMjc4ODg5",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:feature",
          "name": "kind:feature",
          "color": "5319e7",
          "default": false,
          "description": "Feature Requests"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-29T03:37:17Z",
      "updated_at": "2022-11-29T18:40:42Z",
      "closed_at": null,
      "author_association": "COLLABORATOR",
      "active_lock_reason": null,
      "body": "### Description\n\nSupport an EMR operator for cancelling jobs/steps.\r\nCreated from the following Github Discussion: https://github.com/apache/airflow/discussions/27959\n\n### Use case/motivation\n\n_No response_\n\n### Related issues\n\n#27959\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I am willing to submit a PR!\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27979/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27979/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27977",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27977/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27977/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27977/events",
      "html_url": "https://github.com/apache/airflow/issues/27977",
      "id": 1467213115,
      "node_id": "I_kwDOAgUK285Xc-U7",
      "number": 27977,
      "title": "Webserver IntegrityError When Loaded",
      "user": {
        "login": "ahipp13",
        "id": 118911990,
        "node_id": "U_kgDOBxZz9g",
        "avatar_url": "https://avatars.githubusercontent.com/u/118911990?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahipp13",
        "html_url": "https://github.com/ahipp13",
        "followers_url": "https://api.github.com/users/ahipp13/followers",
        "following_url": "https://api.github.com/users/ahipp13/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahipp13/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahipp13/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahipp13/subscriptions",
        "organizations_url": "https://api.github.com/users/ahipp13/orgs",
        "repos_url": "https://api.github.com/users/ahipp13/repos",
        "events_url": "https://api.github.com/users/ahipp13/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahipp13/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-28T23:08:32Z",
      "updated_at": "2022-11-29T13:33:53Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\r\n\r\n2.4.3\r\n\r\n### What happened\r\n\r\nWe just upgraded from Airflow 2.2.5 to 2.4.3. When using Azure OAuth, whenever you load the webserver, it loads it with an error and in a weird looking format:\r\n![image](https://user-images.githubusercontent.com/118911990/204397885-b60f951e-d57c-4daa-b8bb-b468ed183852.png)\r\n\r\nIt loads it in a weird different format every time you hit the refresh button, and has the same error every time (full logs down below):\r\n```\r\nairflow-web sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web [SQL: INSERT INTO session (session_id, data, expiry) VALUES (%(session_id)s, %(data)s, %(expiry)s) RETURNING session.id]\r\nairflow-web [parameters: {'session_id': '7582aee0-4289-4152-99d2-918c98ff64d6', 'data': <psycopg2.extensions.Binary object at 0x7fbd53ad71b0>, 'expiry': datetime.datetime(2022, 11, 23, 16, 5, 59, 467562, tzinfo=datetime.timezone.utc)}]\r\nairflow-web (Background on this error at: https://sqlalche.me/e/14/gkpj)\r\nairflow-web\r\n```\r\n\r\n### What you think should happen instead\r\n\r\nThe webserver should display the normal login page without any errors. Here are the full logs from the kubernetes pod:\r\n<details>\r\n<summary>webserver.logs</summary>\r\nairflow-web 127.0.0.1 - - [23/Nov/2022:15:35:59 +0000] \"GET /login/ HTTP/1.1\" 200 16330 \"https://login.microsoftonline.com/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36 Edg/106.0.1370.52\"\r\nairflow-web 127.0.0.1 - - [23/Nov/2022:15:35:59 +0000] \"GET /static/appbuilder/css/font-awesome.min.css HTTP/1.1\" 200 0 \"https://url/login/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36 Edg/106.0.1370.52\"\r\nairflow-web [2022-11-23 15:35:59,423] {app.py:1741} ERROR - Exception on /static/appbuilder/css/bootstrap.min.css [GET]\r\nairflow-web Traceback (most recent call last):\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1802, in _execute_context\r\nairflow-web self.dialect.do_execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py\", line 719, in do_execute\r\nairflow-web cursor.execute(statement, parameters)\r\nairflow-web psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web return super().save_session(*args, **kwargs)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask_session/sessions.py\", line 578, in save_session\r\nairflow-web self.db.session.commit()\r\nairflow-web File \"\", line 2, in commit\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 1428, in commit\r\nairflow-web self._transaction.commit(_to_root=self.future)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 829, in commit\r\nairflow-web self._prepare_impl()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 808, in _prepare_impl\r\nairflow-web self.session.flush()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 3345, in flush\r\nairflow-web self._flush(objects)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 3485, in flush\r\nairflow-web transaction.rollback(capture_exception=True)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py\", line 70, in exit\r\nairflow-web compat.raise(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py\", line 207, in raise\r\nairflow-web raise exception\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 3445, in _flush\r\nairflow-web flush_context.execute()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py\", line 456, in execute\r\nairflow-web rec.execute(self)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py\", line 630, in execute\r\nairflow-web util.preloaded.orm_persistence.save_obj(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py\", line 244, in save_obj\r\nairflow-web _emit_insert_statements(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py\", line 1221, in _emit_insert_statements\r\nairflow-web result = connection._execute_20(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1614, in _execute_20\r\nairflow-web return meth(self, args_10style, kwargs_10style, execution_options)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/sql/elements.py\", line 325, in _execute_on_connection\r\nairflow-web return connection._execute_clauseelement(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1481, in _execute_clauseelement\r\nairflow-web ret = self._execute_context(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1845, in _execute_context\r\nairflow-web self.handle_dbapi_exception(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 2026, in handle_dbapi_exception\r\nairflow-web util.raise(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py\", line 207, in raise\r\nairflow-web raise exception\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1802, in _execute_context\r\nairflow-web self.dialect.do_execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py\", line 719, in do_execute\r\nairflow-web cursor.execute(statement, parameters)\r\nairflow-web sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web [SQL: INSERT INTO session (session_id, data, expiry) VALUES (%(session_id)s, %(data)s, %(expiry)s) RETURNING session.id]\r\nairflow-web [parameters: {'session_id': '7582aee0-4289-4152-99d2-918c98ff64d6', 'data': <psycopg2.extensions.Binary object at 0x7fbd53ad71b0>, 'expiry': datetime.datetime(2022, 11, 23, 16, 5, 59, 467562, tzinfo=datetime.timezone.utc)}]\r\nairflow-web (Background on this error at: https://sqlalche.me/e/14/gkpj)\r\nairflow-web\r\nairflow-web During handling of the above exception, another exception occurred:\r\nairflow-web\r\nairflow-web Traceback (most recent call last):\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 1844, in finalize_request\r\nairflow-web response = self.process_response(response)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 2340, in process_response\r\nairflow-web self.session_interface.save_session(self, ctx.session, response)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/airflow/www/session.py\", line 33, in save_session\r\nairflow-web return super().save_session(*args, **kwargs)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask_session/sessions.py\", line 553, in save_session\r\nairflow-web saved_session = self.sql_session_model.query.filter_by(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py\", line 2810, in first\r\nairflow-web return self.limit(1)._iter().first()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py\", line 2894, in _iter\r\nairflow-web result = self.session.execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 1688, in execute\r\nairflow-web conn = self._connection_for_bind(bind)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 1529, in _connection_for_bind\r\nairflow-web return self._transaction._connection_for_bind(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 721, in _connection_for_bind\r\nairflow-web self._assert_active()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 601, in _assert_active\r\nairflow-web raise sa_exc.PendingRollbackError(\r\nairflow-web sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web [SQL: INSERT INTO session (session_id, data, expiry) VALUES (%(session_id)s, %(data)s, %(expiry)s) RETURNING session.id]\r\nairflow-web [parameters: {'session_id': '7582aee0-4289-4152-99d2-918c98ff64d6', 'data': <psycopg2.extensions.Binary object at 0x7fbd53ad71b0>, 'expiry': datetime.datetime(2022, 11, 23, 16, 5, 59, 467562, tzinfo=datetime.timezone.utc)}]\r\nairflow-web (Background on this error at: https://sqlalche.me/e/14/gkpj) (Background on this error at: https://sqlalche.me/e/14/7s2a)\r\nairflow-web 127.0.0.1 - - [23/Nov/2022:15:35:59 +0000] \"GET /static/appbuilder/css/flags/flags16.css HTTP/1.1\" 500 1575 \"https://url/login/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36 Edg/106.0.1370.52\"\r\nairflow-web 127.0.0.1 - - [23/Nov/2022:15:35:59 +0000] \"GET /static/appbuilder/css/ab.css HTTP/1.1\" 500 1575 \"https://url/login/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36 Edg/106.0.1370.52\"\r\nairflow-web 127.0.0.1 - - [23/Nov/2022:15:35:59 +0000] \"GET /static/dist/airflowDefaultTheme.731e57571b52cca4350d.css HTTP/1.1\" 200 0 \"https://url/login/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36 Edg/106.0.1370.52\"\r\nairflow-web [2022-11-23 15:35:59,534] {app.py:1741} ERROR - Exception on /static/dist/materialIcons.f9559e4953177b8b9a4a.css [GET]\r\nairflow-web Traceback (most recent call last):\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1802, in _execute_context\r\nairflow-web self.dialect.do_execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py\", line 719, in do_execute\r\nairflow-web cursor.execute(statement, parameters)\r\nairflow-web psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web\r\nairflow-web The above exception was the direct cause of the following exception:\r\nairflow-web\r\nairflow-web Traceback (most recent call last):\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 2525, in wsgi_app\r\nairflow-web response = self.full_dispatch_request()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 1823, in full_dispatch_request\r\nairflow-web return self.finalize_request(rv)\r\nairflow-web return meth(self, args_10style, kwargs_10style, execution_options)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/sql/elements.py\", line 325, in _execute_on_connection\r\nairflow-web return connection._execute_clauseelement(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1481, in _execute_clauseelement\r\nairflow-web ret = self._execute_context(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1845, in _execute_context\r\nairflow-web self.handle_dbapi_exception(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 2026, in handle_dbapi_exception\r\nairflow-web util.raise(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py\", line 207, in raise\r\nairflow-web raise exception\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1802, in _execute_context\r\nairflow-web self.dialect.do_execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py\", line 719, in do_execute\r\nairflow-web cursor.execute(statement, parameters)\r\nairflow-web sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web [SQL: INSERT INTO session (session_id, data, expiry) VALUES (%(session_id)s, %(data)s, %(expiry)s) RETURNING session.id]\r\nairflow-web [parameters: {'session_id': '7582aee0-4289-4152-99d2-918c98ff64d6', 'data': <psycopg2.extensions.Binary object at 0x7fbd4c9fd900>, 'expiry': datetime.datetime(2022, 11, 23, 16, 5, 59, 574672, tzinfo=datetime.timezone.utc)}]\r\nairflow-web (Background on this error at: https://sqlalche.me/e/14/gkpj)\r\nairflow-web [2022-11-23 15:35:59,591] {app.py:1741} ERROR - Exception on /static/dist/loadingDots.5da42d00b5455806e709.css [GET]\r\nairflow-web Traceback (most recent call last):\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1802, in _execute_context\r\nairflow-web self.dialect.do_execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py\", line 719, in do_execute\r\nairflow-web cursor.execute(statement, parameters)\r\nairflow-web psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\nairflow-web\r\nairflow-web\r\nairflow-web The above exception was the direct cause of the following exception:\r\nairflow-web\r\nairflow-web Traceback (most recent call last):\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 2525, in wsgi_app\r\nairflow-web response = self.full_dispatch_request()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 1823, in full_dispatch_request\r\nairflow-web return self.finalize_request(rv)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 1844, in finalize_request\r\nairflow-web response = self.process_response(response)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask/app.py\", line 2340, in process_response\r\nairflow-web self.session_interface.save_session(self, ctx.session, response)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/airflow/www/session.py\", line 33, in save_session\r\nairflow-web return super().save_session(*args, **kwargs)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/flask_session/sessions.py\", line 578, in save_session\r\nairflow-web self.db.session.commit()\r\nairflow-web File \"\", line 2, in commit\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 1428, in commit\r\nairflow-web self._transaction.commit(_to_root=self.future)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 829, in commit\r\nairflow-web self._prepare_impl()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 808, in _prepare_impl\r\nairflow-web self.session.flush()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 3345, in flush\r\nairflow-web self._flush(objects)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 3485, in flush\r\nairflow-web transaction.rollback(capture_exception=True)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py\", line 70, in exit\r\nairflow-web compat.raise(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py\", line 207, in raise\r\nairflow-web raise exception\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py\", line 3445, in _flush\r\nairflow-web flush_context.execute()\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py\", line 456, in execute\r\nairflow-web rec.execute(self)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py\", line 630, in execute\r\nairflow-web util.preloaded.orm_persistence.save_obj(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py\", line 244, in save_obj\r\nairflow-web _emit_insert_statements(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py\", line 1221, in _emit_insert_statements\r\nairflow-web result = connection._execute_20(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1614, in _execute_20\r\nairflow-web return meth(self, args_10style, kwargs_10style, execution_options)\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/sql/elements.py\", line 325, in _execute_on_connection\r\nairflow-web return connection._execute_clauseelement(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1481, in _execute_clauseelement\r\nairflow-web ret = self._execute_context(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1845, in _execute_context\r\nairflow-web self.handle_dbapi_exception(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 2026, in handle_dbapi_exception\r\nairflow-web util.raise(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py\", line 207, in raise\r\nairflow-web raise exception\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py\", line 1802, in _execute_context\r\nairflow-web self.dialect.do_execute(\r\nairflow-web File \"/home/airflow/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py\", line 719, in do_execute\r\nairflow-web cursor.execute(statement, parameters)\r\nairflow-web sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"session_session_id_key\"\r\nairflow-web DETAIL: Key (session_id)=(7582aee0-4289-4152-99d2-918c98ff64d6) already exists.\r\n</details>\r\n\r\n### How to reproduce\r\n\r\nDown below is a copy of our webserver_config.py. We are currently running Airflow 2.4.3 on Kubernetes with the Airflow Community helm chart version 8.6.1 (located here: https://github.com/airflow-helm/charts). We are also using a postgres external database as our metadata db.\r\n\r\n```\r\nfrom flask_appbuilder.security.manager import AUTH_OAUTH\r\nfrom airflow.www.security import AirflowSecurityManager\r\nimport logging\r\nfrom typing import Dict, Any, List, Union\r\nimport os\r\nimport sys\r\n\r\n#Add this as a module to pythons path\r\nsys.path.append('/opt/airflow')\r\n\r\nlog = logging.getLogger(__name__)\r\nlog.setLevel(os.getenv(\"AIRFLOW__LOGGING__FAB_LOGGING_LEVEL\", \"DEBUG\"))\r\n\r\nclass AzureCustomSecurity(AirflowSecurityManager):\r\n    # In this example, the oauth provider == 'azure'.\r\n    # If you ever want to support other providers, see how it is done here:\r\n    # https://github.com/dpgaspar/Flask-AppBuilder/blob/master/flask_appbuilder/security/manager.py#L550\r\n    def get_oauth_user_info(self, provider, resp):\r\n        # Creates the user info payload from Azure.\r\n        # The user previously allowed your app to act on their behalf,\r\n        #   so now we can query the user and teams endpoints for their data.\r\n        # Username and team membership are added to the payload and returned to FAB.\r\n        if provider == \"azure\":\r\n            log.debug(\"Azure response received : {0}\".format(resp))\r\n            id_token = resp[\"id_token\"]\r\n            log.debug(str(id_token))\r\n            me = self._azure_jwt_token_parse(id_token)\r\n            log.debug(\"Parse JWT token : {0}\".format(me))\r\n            return {\r\n                \"name\": me.get(\"name\", \"\"),\r\n                \"email\": me[\"upn\"],\r\n                \"first_name\": me.get(\"given_name\", \"\"),\r\n                \"last_name\": me.get(\"family_name\", \"\"),\r\n                \"id\": me[\"oid\"],\r\n                \"username\": me[\"oid\"],\r\n                \"role_keys\": me.get(\"roles\", []),\r\n            }\r\n\r\n# Adding this in because if not the redirect url will start with http and we want https\r\nos.environ[\"AIRFLOW__WEBSERVER__ENABLE_PROXY_FIX\"] = \"True\"\r\nWTF_CSRF_ENABLED = False\r\nCSRF_ENABLED = False\r\nAUTH_TYPE = AUTH_OAUTH\r\nAUTH_ROLES_SYNC_AT_LOGIN = True  # Checks roles on every login\r\n# Make sure to replace this with the path to your security manager class\r\nFAB_SECURITY_MANAGER_CLASS = \"webserver_config.AzureCustomSecurity\"\r\n# a mapping from the values of `userinfo[\"role_keys\"]` to a list of FAB roles\r\nAUTH_ROLES_MAPPING = {\r\n    \"airflow_dev_admin\": [\"Admin\"],\r\n    \"airflow_dev_op\": [\"Op\"],\r\n    \"airflow_dev_user\": [\"User\"],\r\n    \"airflow_dev_viewer\": [\"Viewer\"]\r\n    }\r\n# force users to re-auth after 30min of inactivity (to keep roles in sync)\r\nPERMANENT_SESSION_LIFETIME = 1800\r\n# If you wish, you can add multiple OAuth providers.\r\nOAUTH_PROVIDERS = [\r\n    {\r\n        \"name\": \"azure\",\r\n        \"icon\": \"fa-windows\",\r\n        \"token_key\": \"access_token\",\r\n        \"remote_app\": {\r\n            \"client_id\": \"CLIENT_ID\",\r\n            \"client_secret\": 'AZURE_DEV_CLIENT_SECRET',\r\n            \"api_base_url\": \"https://login.microsoftonline.com/TENANT_ID\",\r\n            \"request_token_url\": None,\r\n            'request_token_params': {\r\n                'scope': 'openid email profile'\r\n            },\r\n            \"access_token_url\": \"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/token\",\r\n            \"access_token_params\": {\r\n                'scope': 'openid email profile'\r\n            },\r\n            \"authorize_url\": \"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/authorize\",\r\n            \"authorize_params\": {\r\n                'scope': 'openid email profile',\r\n            },\r\n            'jwks_uri':'https://login.microsoftonline.com/common/discovery/v2.0/keys',\r\n        },\r\n    },\r\n]\r\n```\r\n\r\n### Operating System\r\n\r\nDebian GNU/Linux 11 (bullseye)\r\n\r\n### Versions of Apache Airflow Providers\r\n\r\napache-airflow-providers-amazon==6.0.0\r\napache-airflow-providers-celery==3.0.0\r\napache-airflow-providers-cncf-kubernetes==4.4.0\r\napache-airflow-providers-common-sql==1.2.0\r\napache-airflow-providers-docker==3.2.0\r\napache-airflow-providers-elasticsearch==4.2.1\r\napache-airflow-providers-ftp==3.1.0\r\napache-airflow-providers-google==8.4.0\r\napache-airflow-providers-grpc==3.0.0\r\napache-airflow-providers-hashicorp==3.1.0\r\napache-airflow-providers-http==4.0.0\r\napache-airflow-providers-imap==3.0.0\r\napache-airflow-providers-microsoft-azure==4.3.0\r\napache-airflow-providers-mysql==3.2.1\r\napache-airflow-providers-odbc==3.1.2\r\napache-airflow-providers-postgres==5.2.2\r\napache-airflow-providers-redis==3.0.0\r\napache-airflow-providers-sendgrid==3.0.0\r\napache-airflow-providers-sftp==4.1.0\r\napache-airflow-providers-slack==6.0.0\r\napache-airflow-providers-sqlite==3.2.1\r\napache-airflow-providers-ssh==3.2.0\r\n\r\n### Deployment\r\n\r\nOther 3rd-party Helm chart\r\n\r\n### Deployment details\r\n\r\nWe are currently running Airflow 2.4.3 on Kubernetes with the Airflow Community helm chart version 8.6.1 (located here: https://github.com/airflow-helm/charts). We are also using a postgres external database as our metadata db.\r\n\r\n### Anything else\r\n\r\nThere is a workaround for this issue. If you set AIRFLOW__WEBSERVER__WORKERS: \"1\", then the errors go away. This problem happens anytime you load the webserver. New to posting issues so any other information needed please let me know.\r\n\r\n### Are you willing to submit PR?\r\n\r\n- [ ] Yes I am willing to submit a PR!\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27977/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27977/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27974",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27974/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27974/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27974/events",
      "html_url": "https://github.com/apache/airflow/pull/27974",
      "id": 1467184260,
      "node_id": "PR_kwDOAgUK285D15F-",
      "number": 27974,
      "title": "[AIP-51] Add helper to import default executor class",
      "user": {
        "login": "o-nikolas",
        "id": 65743084,
        "node_id": "MDQ6VXNlcjY1NzQzMDg0",
        "avatar_url": "https://avatars.githubusercontent.com/u/65743084?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/o-nikolas",
        "html_url": "https://github.com/o-nikolas",
        "followers_url": "https://api.github.com/users/o-nikolas/followers",
        "following_url": "https://api.github.com/users/o-nikolas/following{/other_user}",
        "gists_url": "https://api.github.com/users/o-nikolas/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/o-nikolas/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/o-nikolas/subscriptions",
        "organizations_url": "https://api.github.com/users/o-nikolas/orgs",
        "repos_url": "https://api.github.com/users/o-nikolas/repos",
        "events_url": "https://api.github.com/users/o-nikolas/events{/privacy}",
        "received_events_url": "https://api.github.com/users/o-nikolas/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1545560198,
          "node_id": "MDU6TGFiZWwxNTQ1NTYwMTk4",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:scheduler/executor",
          "name": "area:scheduler/executor",
          "color": "6a3aaa",
          "default": false,
          "description": "Scheduler or Executor related Issues"
        },
        {
          "id": 3366329582,
          "node_id": "MDU6TGFiZWwzMzY2MzI5NTgy",
          "url": "https://api.github.com/repos/apache/airflow/labels/debug%20ci%20resources",
          "name": "debug ci resources",
          "color": "E2D2A2",
          "default": false,
          "description": "Set it on PR if you want to debug resource usage for it"
        },
        {
          "id": 4834642832,
          "node_id": "LA_kwDOAgUK288AAAABICrLkA",
          "url": "https://api.github.com/repos/apache/airflow/labels/AIP-51",
          "name": "AIP-51",
          "color": "A55E53",
          "default": false,
          "description": "Issues for AIP-51"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 2,
      "created_at": "2022-11-28T22:34:19Z",
      "updated_at": "2022-11-30T16:52:47Z",
      "closed_at": null,
      "author_association": "COLLABORATOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/27974",
        "html_url": "https://github.com/apache/airflow/pull/27974",
        "diff_url": "https://github.com/apache/airflow/pull/27974.diff",
        "patch_url": "https://github.com/apache/airflow/pull/27974.patch",
        "merged_at": null
      },
      "body": "This will be useful for the several points during AIP-51 where the default executor class needs to be imported to replace specific points of coupling.\r\nAlso add missing testing for executor loader import mechanism\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27974/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27974/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27973",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27973/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27973/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27973/events",
      "html_url": "https://github.com/apache/airflow/issues/27973",
      "id": 1467183005,
      "node_id": "I_kwDOAgUK285Xc2-d",
      "number": 27973,
      "title": "Azure OAuth CSRF State Not Equal Error",
      "user": {
        "login": "ahipp13",
        "id": 118911990,
        "node_id": "U_kgDOBxZz9g",
        "avatar_url": "https://avatars.githubusercontent.com/u/118911990?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahipp13",
        "html_url": "https://github.com/ahipp13",
        "followers_url": "https://api.github.com/users/ahipp13/followers",
        "following_url": "https://api.github.com/users/ahipp13/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahipp13/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahipp13/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahipp13/subscriptions",
        "organizations_url": "https://api.github.com/users/ahipp13/orgs",
        "repos_url": "https://api.github.com/users/ahipp13/repos",
        "events_url": "https://api.github.com/users/ahipp13/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahipp13/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-11-28T22:32:40Z",
      "updated_at": "2022-11-28T22:32:42Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\n\n2.4.3\n\n### What happened\n\nWe have enabled Microsoft Azure OAuth for our Airflow implementation. When we try to log in, we get a CSRF error: \r\n\r\n[2022-11-28 22:04:58,744] {views.py:659} ERROR - Error authorizing OAuth access token: mismatching_state: CSRF Warning! State not equal in request and response.                                                                 ││ airflow-web [2022-11-28 22:04:58,744] {views.py:659} ERROR - Error authorizing OAuth access token: mismatching_state: CSRF Warning! State not equal in request and response.\r\n\r\nWe have taken a look at both the sending and receiving URLs in the browser and the state is the exact same. Down below are pictures of the state for the request and response:\r\n![2022-11-28_16-22-46](https://user-images.githubusercontent.com/118911990/204394405-2e7a0029-9b18-4090-89e6-52a5a41dc25d.png)\r\n![2022-11-28_16-26-24](https://user-images.githubusercontent.com/118911990/204394418-d2603bbf-6668-4fda-ad75-58fce46c3d44.png)\r\n\n\n### What you think should happen instead\n\nWe should be able to log into our Airflow application. We had the exact same setup using Airflow 2.2.5 and everything worked just fine. \n\n### How to reproduce\n\nDown below is a copy of our webserver_config.py. We are currently running Airflow 2.4.3 on Kubernetes with the Airflow Community helm chart version 8.6.1 (located here: https://github.com/airflow-helm/charts). We are also using a postgres external database as our metadata db. \r\n\r\n\r\n```\r\nfrom flask_appbuilder.security.manager import AUTH_OAUTH\r\nfrom airflow.www.security import AirflowSecurityManager\r\nimport logging\r\nfrom typing import Dict, Any, List, Union\r\nimport os\r\nimport sys\r\n\r\n#Add this as a module to pythons path\r\nsys.path.append('/opt/airflow')\r\n\r\nlog = logging.getLogger(__name__)\r\nlog.setLevel(os.getenv(\"AIRFLOW__LOGGING__FAB_LOGGING_LEVEL\", \"DEBUG\"))\r\n\r\nclass AzureCustomSecurity(AirflowSecurityManager):\r\n    # In this example, the oauth provider == 'azure'.\r\n    # If you ever want to support other providers, see how it is done here:\r\n    # https://github.com/dpgaspar/Flask-AppBuilder/blob/master/flask_appbuilder/security/manager.py#L550\r\n    def get_oauth_user_info(self, provider, resp):\r\n        # Creates the user info payload from Azure.\r\n        # The user previously allowed your app to act on their behalf,\r\n        #   so now we can query the user and teams endpoints for their data.\r\n        # Username and team membership are added to the payload and returned to FAB.\r\n        if provider == \"azure\":\r\n            log.debug(\"Azure response received : {0}\".format(resp))\r\n            id_token = resp[\"id_token\"]\r\n            log.debug(str(id_token))\r\n            me = self._azure_jwt_token_parse(id_token)\r\n            log.debug(\"Parse JWT token : {0}\".format(me))\r\n            return {\r\n                \"name\": me.get(\"name\", \"\"),\r\n                \"email\": me[\"upn\"],\r\n                \"first_name\": me.get(\"given_name\", \"\"),\r\n                \"last_name\": me.get(\"family_name\", \"\"),\r\n                \"id\": me[\"oid\"],\r\n                \"username\": me[\"oid\"],\r\n                \"role_keys\": me.get(\"roles\", []),\r\n            }\r\n\r\n# Adding this in because if not the redirect url will start with http and we want https\r\nos.environ[\"AIRFLOW__WEBSERVER__ENABLE_PROXY_FIX\"] = \"True\"\r\nWTF_CSRF_ENABLED = False\r\nCSRF_ENABLED = False\r\nAUTH_TYPE = AUTH_OAUTH\r\nAUTH_ROLES_SYNC_AT_LOGIN = True  # Checks roles on every login\r\n# Make sure to replace this with the path to your security manager class\r\nFAB_SECURITY_MANAGER_CLASS = \"webserver_config.AzureCustomSecurity\"\r\n# a mapping from the values of `userinfo[\"role_keys\"]` to a list of FAB roles\r\nAUTH_ROLES_MAPPING = {\r\n    \"airflow_dev_admin\": [\"Admin\"],\r\n    \"airflow_dev_op\": [\"Op\"],\r\n    \"airflow_dev_user\": [\"User\"],\r\n    \"airflow_dev_viewer\": [\"Viewer\"]\r\n    }\r\n# force users to re-auth after 30min of inactivity (to keep roles in sync)\r\nPERMANENT_SESSION_LIFETIME = 1800\r\n# If you wish, you can add multiple OAuth providers.\r\nOAUTH_PROVIDERS = [\r\n    {\r\n        \"name\": \"azure\",\r\n        \"icon\": \"fa-windows\",\r\n        \"token_key\": \"access_token\",\r\n        \"remote_app\": {\r\n            \"client_id\": \"CLIENT_ID\",\r\n            \"client_secret\": 'AZURE_DEV_CLIENT_SECRET',\r\n            \"api_base_url\": \"https://login.microsoftonline.com/TENANT_ID\",\r\n            \"request_token_url\": None,\r\n            'request_token_params': {\r\n                'scope': 'openid email profile'\r\n            },\r\n            \"access_token_url\": \"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/token\",\r\n            \"access_token_params\": {\r\n                'scope': 'openid email profile'\r\n            },\r\n            \"authorize_url\": \"https://login.microsoftonline.com/TENANT_ID/oauth2/v2.0/authorize\",\r\n            \"authorize_params\": {\r\n                'scope': 'openid email profile',\r\n            },\r\n            'jwks_uri':'https://login.microsoftonline.com/common/discovery/v2.0/keys',\r\n        },\r\n    },\r\n]\r\n```\n\n### Operating System\n\nDebian GNU/Linux 11 (bullseye)\n\n### Versions of Apache Airflow Providers\n\napache-airflow-providers-amazon==6.0.0\r\napache-airflow-providers-celery==3.0.0\r\napache-airflow-providers-cncf-kubernetes==4.4.0\r\napache-airflow-providers-common-sql==1.2.0\r\napache-airflow-providers-docker==3.2.0\r\napache-airflow-providers-elasticsearch==4.2.1\r\napache-airflow-providers-ftp==3.1.0\r\napache-airflow-providers-google==8.4.0\r\napache-airflow-providers-grpc==3.0.0\r\napache-airflow-providers-hashicorp==3.1.0\r\napache-airflow-providers-http==4.0.0\r\napache-airflow-providers-imap==3.0.0\r\napache-airflow-providers-microsoft-azure==4.3.0\r\napache-airflow-providers-mysql==3.2.1\r\napache-airflow-providers-odbc==3.1.2\r\napache-airflow-providers-postgres==5.2.2\r\napache-airflow-providers-redis==3.0.0\r\napache-airflow-providers-sendgrid==3.0.0\r\napache-airflow-providers-sftp==4.1.0\r\napache-airflow-providers-slack==6.0.0\r\napache-airflow-providers-sqlite==3.2.1\r\napache-airflow-providers-ssh==3.2.0\n\n### Deployment\n\nOther 3rd-party Helm chart\n\n### Deployment details\n\nWe are currently running Airflow 2.4.3 on Kubernetes with the Airflow Community helm chart version 8.6.1 (located here: https://github.com/airflow-helm/charts). We are also using a postgres external database as our metadata db. \n\n### Anything else\n\nThis problem occurs every time we try to log into the Airflow Webserver using Azure OAuth.\n\n### Are you willing to submit PR?\n\n- [ ] Yes I am willing to submit a PR!\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27973/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27973/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27969",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27969/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27969/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27969/events",
      "html_url": "https://github.com/apache/airflow/pull/27969",
      "id": 1466971063,
      "node_id": "PR_kwDOAgUK285D1LPR",
      "number": 27969,
      "title": "Completed D400 for multiple folders",
      "user": {
        "login": "bdsoha",
        "id": 4192777,
        "node_id": "MDQ6VXNlcjQxOTI3Nzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4192777?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bdsoha",
        "html_url": "https://github.com/bdsoha",
        "followers_url": "https://api.github.com/users/bdsoha/followers",
        "following_url": "https://api.github.com/users/bdsoha/following{/other_user}",
        "gists_url": "https://api.github.com/users/bdsoha/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bdsoha/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bdsoha/subscriptions",
        "organizations_url": "https://api.github.com/users/bdsoha/orgs",
        "repos_url": "https://api.github.com/users/bdsoha/repos",
        "events_url": "https://api.github.com/users/bdsoha/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bdsoha/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1545560198,
          "node_id": "MDU6TGFiZWwxNTQ1NTYwMTk4",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:scheduler/executor",
          "name": "area:scheduler/executor",
          "color": "6a3aaa",
          "default": false,
          "description": "Scheduler or Executor related Issues"
        },
        {
          "id": 2504183113,
          "node_id": "MDU6TGFiZWwyNTA0MTgzMTEz",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:kubernetes",
          "name": "area:kubernetes",
          "color": "ededed",
          "default": false,
          "description": null
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 2,
      "created_at": "2022-11-28T19:27:14Z",
      "updated_at": "2022-12-01T18:43:09Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/27969",
        "html_url": "https://github.com/apache/airflow/pull/27969",
        "diff_url": "https://github.com/apache/airflow/pull/27969.diff",
        "patch_url": "https://github.com/apache/airflow/pull/27969.patch",
        "merged_at": null
      },
      "body": "Completed D400 for:\r\n\r\n- `airflow/jobs/*`\r\n- `airflow/executors/*`\r\n\r\nRelated to #10742 .\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27969/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27969/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27962",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27962/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27962/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27962/events",
      "html_url": "https://github.com/apache/airflow/pull/27962",
      "id": 1466653546,
      "node_id": "PR_kwDOAgUK285D0KHH",
      "number": 27962,
      "title": "Add pre-commits preventing accidental API changes in common.sql",
      "user": {
        "login": "potiuk",
        "id": 595491,
        "node_id": "MDQ6VXNlcjU5NTQ5MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/595491?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/potiuk",
        "html_url": "https://github.com/potiuk",
        "followers_url": "https://api.github.com/users/potiuk/followers",
        "following_url": "https://api.github.com/users/potiuk/following{/other_user}",
        "gists_url": "https://api.github.com/users/potiuk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/potiuk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/potiuk/subscriptions",
        "organizations_url": "https://api.github.com/users/potiuk/orgs",
        "repos_url": "https://api.github.com/users/potiuk/repos",
        "events_url": "https://api.github.com/users/potiuk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/potiuk/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        },
        {
          "id": 1769003317,
          "node_id": "MDU6TGFiZWwxNzY5MDAzMzE3",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:dev-tools",
          "name": "area:dev-tools",
          "color": "ededed",
          "default": false,
          "description": ""
        },
        {
          "id": 4357710723,
          "node_id": "LA_kwDOAgUK288AAAABA71jgw",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:Common-sql",
          "name": "provider:Common-sql",
          "color": "3AC379",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 5,
      "created_at": "2022-11-28T15:47:06Z",
      "updated_at": "2022-12-01T08:40:46Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/27962",
        "html_url": "https://github.com/apache/airflow/pull/27962",
        "diff_url": "https://github.com/apache/airflow/pull/27962.diff",
        "patch_url": "https://github.com/apache/airflow/pull/27962.patch",
        "merged_at": null
      },
      "body": "We had recently some mishaps when it comes to changes to the common.sql provider that accidentally changed API of the common.sql providers and they passed both tests and reviews.\r\n\r\nCommon.sql is pretty special provider because it used by other providers and we have to make sure the API it epxoses is backwards compatible, otherwise upgrading common.sql provider might break those providers.\r\n\r\nThis had already happened:\r\n\r\n* The #26761 refactored common.sql provided and removed some methods that were actually used by Google Provider\r\n\r\n* This caused a problem described in #27838 and forced us ot yank common.sql 1.3.0 and release 1.3.1 with the methods added back in #27843\r\n\r\nThis change introduces tools and process to flag common.sql API changes that are likely backwards compatible.\r\n\r\nThey will require a deliberate action from the contributor who introduces a breaking API to common.sql, it will also help to flag to reviewer when such a change is made.\r\n\r\nThe idea is based on how Android OS handles flagging API changes for their public APIs paired with the tooling that MyPy provides with generating stubs and verifying usage of packages in the stubs.\r\n\r\n<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\n\r\n---\r\n**^ Add meaningful description above**\r\n\r\nRead the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/CONTRIBUTING.rst#pull-request-guidelines)** for more information.\r\nIn case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.\r\nIn case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).\r\nIn case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27962/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27962/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27961",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27961/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27961/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27961/events",
      "html_url": "https://github.com/apache/airflow/pull/27961",
      "id": 1466574860,
      "node_id": "PR_kwDOAgUK285Dz5Jl",
      "number": 27961,
      "title": "Fix: re-enable use of parameters in gcs_to_bq which had been disabled",
      "user": {
        "login": "mdering",
        "id": 1246446,
        "node_id": "MDQ6VXNlcjEyNDY0NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1246446?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mdering",
        "html_url": "https://github.com/mdering",
        "followers_url": "https://api.github.com/users/mdering/followers",
        "following_url": "https://api.github.com/users/mdering/following{/other_user}",
        "gists_url": "https://api.github.com/users/mdering/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mdering/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mdering/subscriptions",
        "organizations_url": "https://api.github.com/users/mdering/orgs",
        "repos_url": "https://api.github.com/users/mdering/repos",
        "events_url": "https://api.github.com/users/mdering/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mdering/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1463392518,
          "node_id": "MDU6TGFiZWwxNDYzMzkyNTE4",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:Google",
          "name": "provider:Google",
          "color": "34a350",
          "default": false,
          "description": "Google (including GCP) related issues"
        },
        {
          "id": 1697155831,
          "node_id": "MDU6TGFiZWwxNjk3MTU1ODMx",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:providers",
          "name": "area:providers",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 7,
      "created_at": "2022-11-28T14:58:00Z",
      "updated_at": "2022-12-01T14:23:11Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/apache/airflow/pulls/27961",
        "html_url": "https://github.com/apache/airflow/pull/27961",
        "diff_url": "https://github.com/apache/airflow/pull/27961.diff",
        "patch_url": "https://github.com/apache/airflow/pull/27961.patch",
        "merged_at": null
      },
      "body": "<!--\r\nThank you for contributing! Please make sure that your code changes\r\nare covered with tests. And in case of new features or big changes\r\nremember to adjust the documentation.\r\n\r\nFeel free to ping committers for the review!\r\n\r\nIn case of an existing issue, reference it using one of the following:\r\n\r\ncloses: #ISSUE\r\nrelated: #ISSUE\r\n\r\nHow to write a good git commit message:\r\nhttp://chris.beams.io/posts/git-commit/\r\n-->\r\ncloses #27842 \r\n---\r\nAdd in some missing configuration options to the gcs to bq transfer operator. the 8.5.0 release broke a number of things with this operator, mainly the methods to specify the file delimiter, and the time partitioning option. \r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27961/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 1,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27961/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27957",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27957/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27957/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27957/events",
      "html_url": "https://github.com/apache/airflow/issues/27957",
      "id": 1466006088,
      "node_id": "I_kwDOAgUK285XYXpI",
      "number": 27957,
      "title": "Request wildcard prefix feature for s3 to redshift transfer operator",
      "user": {
        "login": "raajpackt",
        "id": 68896091,
        "node_id": "MDQ6VXNlcjY4ODk2MDkx",
        "avatar_url": "https://avatars.githubusercontent.com/u/68896091?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/raajpackt",
        "html_url": "https://github.com/raajpackt",
        "followers_url": "https://api.github.com/users/raajpackt/followers",
        "following_url": "https://api.github.com/users/raajpackt/following{/other_user}",
        "gists_url": "https://api.github.com/users/raajpackt/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/raajpackt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/raajpackt/subscriptions",
        "organizations_url": "https://api.github.com/users/raajpackt/orgs",
        "repos_url": "https://api.github.com/users/raajpackt/repos",
        "events_url": "https://api.github.com/users/raajpackt/events{/privacy}",
        "received_events_url": "https://api.github.com/users/raajpackt/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1471852032,
          "node_id": "MDU6TGFiZWwxNDcxODUyMDMy",
          "url": "https://api.github.com/repos/apache/airflow/labels/provider:AWS",
          "name": "provider:AWS",
          "color": "f89500",
          "default": false,
          "description": "AWS/Amazon - related issues"
        },
        {
          "id": 1923278889,
          "node_id": "MDU6TGFiZWwxOTIzMjc4ODg5",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:feature",
          "name": "kind:feature",
          "color": "5319e7",
          "default": false,
          "description": "Feature Requests"
        },
        {
          "id": 1970155342,
          "node_id": "MDU6TGFiZWwxOTcwMTU1MzQy",
          "url": "https://api.github.com/repos/apache/airflow/labels/good%20first%20issue",
          "name": "good first issue",
          "color": "6cdb53",
          "default": true,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 0,
      "created_at": "2022-11-28T08:24:40Z",
      "updated_at": "2022-11-28T08:53:11Z",
      "closed_at": null,
      "author_association": "NONE",
      "active_lock_reason": null,
      "body": "### Description\n\nhttps://airflow.apache.org/docs/apache-airflow-providers-amazon/1.0.0/operators/s3_to_redshift.html\r\n\r\nThe operator works fine but it will be really good if we can pass prefix parameters for redshift to ingest multiple files into redshift from s3\n\n### Use case/motivation\n\n_No response_\n\n### Related issues\n\n_No response_\n\n### Are you willing to submit a PR?\n\n- [ ] Yes I am willing to submit a PR!\n\n### Code of Conduct\n\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27957/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27957/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/apache/airflow/issues/27955",
      "repository_url": "https://api.github.com/repos/apache/airflow",
      "labels_url": "https://api.github.com/repos/apache/airflow/issues/27955/labels{/name}",
      "comments_url": "https://api.github.com/repos/apache/airflow/issues/27955/comments",
      "events_url": "https://api.github.com/repos/apache/airflow/issues/27955/events",
      "html_url": "https://github.com/apache/airflow/issues/27955",
      "id": 1465929220,
      "node_id": "I_kwDOAgUK285XYE4E",
      "number": 27955,
      "title": "Latest log not shown in grid view for deferred task",
      "user": {
        "login": "tanelk",
        "id": 3342974,
        "node_id": "MDQ6VXNlcjMzNDI5NzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3342974?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tanelk",
        "html_url": "https://github.com/tanelk",
        "followers_url": "https://api.github.com/users/tanelk/followers",
        "following_url": "https://api.github.com/users/tanelk/following{/other_user}",
        "gists_url": "https://api.github.com/users/tanelk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tanelk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tanelk/subscriptions",
        "organizations_url": "https://api.github.com/users/tanelk/orgs",
        "repos_url": "https://api.github.com/users/tanelk/repos",
        "events_url": "https://api.github.com/users/tanelk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tanelk/received_events",
        "type": "User",
        "site_admin": false
      },
      "labels": [
        {
          "id": 199168283,
          "node_id": "MDU6TGFiZWwxOTkxNjgyODM=",
          "url": "https://api.github.com/repos/apache/airflow/labels/kind:bug",
          "name": "kind:bug",
          "color": "fc2929",
          "default": false,
          "description": "This is a clearly a bug"
        },
        {
          "id": 2500918862,
          "node_id": "MDU6TGFiZWwyNTAwOTE4ODYy",
          "url": "https://api.github.com/repos/apache/airflow/labels/area:core",
          "name": "area:core",
          "color": "d4c5f9",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [
  
      ],
      "milestone": null,
      "comments": 2,
      "created_at": "2022-11-28T07:12:45Z",
      "updated_at": "2022-11-29T16:19:01Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "body": "### Apache Airflow version\r\n\r\n2.4.3\r\n\r\n### What happened\r\n\r\nIn the grid view I do not see the logs for the latest try number if the task is in deferred state. I do see it in the \"old\" log view.\r\n\r\nGrid view:\r\n![image](https://user-images.githubusercontent.com/3342974/204215464-989e70e3-9dfc-490b-908c-f47f491316d5.png)\r\n\r\n\"Old\" view:\r\n![image](https://user-images.githubusercontent.com/3342974/204215513-05a6b0ac-f3da-44fa-b8c2-e31013e2467c.png)\r\n\r\nIt could have something to do with the deferred task getting its try_number reduced by 1 - in my example try_number=1 and next_try_number=2.\r\n\r\nhttps://github.com/apache/airflow/blob/3e288abd0bc3e5788dcd7f6d9f6bef26ec4c7281/airflow/models/taskinstance.py#L1617-L1618\r\n\r\n\r\n\r\n### What you think should happen instead\r\n\r\n_No response_\r\n\r\n### How to reproduce\r\n\r\n_No response_\r\n\r\n### Operating System\r\n\r\nRed Hat\r\n\r\n### Versions of Apache Airflow Providers\r\n\r\n_No response_\r\n\r\n### Deployment\r\n\r\nVirtualenv installation\r\n\r\n### Deployment details\r\n\r\n_No response_\r\n\r\n### Anything else\r\n\r\n_No response_\r\n\r\n### Are you willing to submit PR?\r\n\r\n- [ ] Yes I am willing to submit a PR!\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's [Code of Conduct](https://github.com/apache/airflow/blob/main/CODE_OF_CONDUCT.md)\r\n",
      "reactions": {
        "url": "https://api.github.com/repos/apache/airflow/issues/27955/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/apache/airflow/issues/27955/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    }
  ]
  